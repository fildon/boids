!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.config=void 0,e.config={boid:{alignmentRadius:40,alignmentRadiusDefault:40,attractionRadius:200,attractionRadiusDefault:200,defaultColour:"LightSteelBlue",fearDuration:30,maxSpeed:6,minSpeed:3,quantity:100,repulsionRadius:30,repulsionRadiusDefault:30,size:4,visionRadius:200},creature:{acceleration:.2,headingFuzz:.05,maxHistory:5,turningMax:.2},hunter:{defaultColour:"pink",eatRadius:20,maxSpeed:5,minSpeed:0,quantity:1,size:8,visionRadius:90},player:{maxSpeed:64,minSpeed:0},screen:{maxX:1e3,maxY:1e3}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vector2=void 0;const n=i(0);class s{constructor(t=0,e=0){this.x=t%n.config.screen.maxX,this.y=e%n.config.screen.maxY,this.length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}static average(t){if(0===t.length)return new s;return t.reduce((t,e)=>t.add(e)).scaleByScalar(1/t.length)}static fromHeadingAndSpeed(t,e){return e?new s(e*Math.cos(t),e*Math.sin(t)):new s(0,0)}unitVector(){return this.scaleByScalar(1/this.length)}distance(t){return this.vectorTo(t).length}vectorTo(t){let e=(t.x-this.x)%n.config.screen.maxX;e>n.config.screen.maxX/2&&(e-=n.config.screen.maxX),e<-n.config.screen.maxX/2&&(e+=n.config.screen.maxX);let i=(t.y-this.y)%n.config.screen.maxY;return i>n.config.screen.maxY/2&&(i-=n.config.screen.maxY),i<-n.config.screen.maxY/2&&(i+=n.config.screen.maxY),new s(e,i)}rotate(t){return new s(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t))}angleTo(t){return Math.atan2(this.x*t.y-this.y*t.x,this.x*t.x+this.y*t.y)}add(t){return new s(this.x+t.x,this.y+t.y)}subtract(t){return new s(this.x-t.x,this.y-t.y)}equals(t){return this.x===t.x&&this.y===t.y}scaleByScalar(t){return new s(this.x*t,this.y*t)}scaleToLength(t){return this.length?this.scaleByScalar(t/this.length):this}isParallelTo(t){return this.x*t.y==this.y*t.x}normalize(){return 0<=this.x&&0<=this.y?this:new s((this.x%n.config.screen.maxX+n.config.screen.maxX)%n.config.screen.maxX,(this.y%n.config.screen.maxY+n.config.screen.maxY)%n.config.screen.maxY)}toHeading(){return Math.atan2(this.y,this.x)}toString(){return`[${this.x}, ${this.y}]`}}e.Vector2=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Creature=void 0;const n=i(1);e.Creature=class{distanceToCreature(t){return this.position.distance(t.position)}updateHistory(){this.history.push(this.position),this.history=this.history.slice(1)}velocity(){return n.Vector2.fromHeadingAndSpeed(this.heading,this.speed)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(1);e.default=class{constructor(t=new n.Vector2,e=0){this.vector=t,this.weight=e}static average(t){if(0===t.length)return new n.Vector2;const e=t.reduce((t,e)=>({vector:t.vector.add(e.vector.scaleByScalar(e.weight)),weight:t.weight+e.weight}),{vector:new n.Vector2,weight:0});return e.vector.scaleByScalar(1/e.weight)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5);document.addEventListener("DOMContentLoaded",()=>{(new n.SimulationManager).runSimulation()},!1)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimulationManager=void 0;const n=i(6),s=i(0),o=i(8),r=i(9);e.SimulationManager=class{constructor(){this.fpsTarget=60;const t=document.getElementById("canvas");if(!t)throw new Error("couldn't find 'canvas' on document");this.canvas=new n.Canvas(t),this.inputHandler=new o.InputHandler(this.canvas,t=>this.createBoid(t),t=>this.createHunter(t)),this.creatureStorage=new r.CreatureStorage;for(let t=0;t<s.config.boid.quantity;t++)this.creatureStorage.addBoid();for(let t=0;t<s.config.hunter.quantity;t++)this.creatureStorage.addHunter()}createBoid(t){this.creatureStorage.addBoid(t)}createHunter(t){this.creatureStorage.addHunter(t)}runSimulation(){this.tick(performance.now(),0)}tick(t,e){const i=performance.now(),n=i-t;for(t=i,e+=n;e>=1e3/this.fpsTarget;)this.updateSimulation(),e-=1e3/this.fpsTarget;this.renderSimulation(),setTimeout(()=>this.tick(t,e),0)}updateSimulation(){this.creatureStorage.update();for(const t of this.creatureStorage.getAllBoids())t.update();for(const t of this.creatureStorage.getAllHunters())t.update()}renderSimulation(){this.canvas.draw(this.creatureStorage.getAllCreatures()),this.updateHunterCountDisplay(this.creatureStorage.getHunterCount()),this.updateBoidCountDisplay(this.creatureStorage.getBoidCount())}updateHunterCountDisplay(t){const e=document.getElementById("number-of-hunters");e&&(e.textContent=""+t)}updateBoidCountDisplay(t){const e=document.getElementById("number-of-boids");e&&(e.textContent=""+t)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Canvas=void 0;const n=i(0),s=i(1),o=i(7);e.Canvas=class{constructor(t){this.fpsCounter=o.FpsCounter.getFpsCounter(),this.cameraPosition=new s.Vector2(window.innerWidth,window.innerHeight),this.canvas=t;const e=this.canvas.getContext("2d");if(!e)throw new Error("could not get canvas context");this.ctx=e,this.canvas.height=n.config.screen.maxY,this.canvas.width=n.config.screen.maxX,this.setScreenSize()}onclick(t){this.canvas.onclick=t}setScreenSize(){window&&(n.config.screen.maxX=window.innerWidth,n.config.screen.maxY=window.innerHeight),this.ctx.canvas.width=n.config.screen.maxX,this.ctx.canvas.height=n.config.screen.maxY}draw(t,e=new s.Vector2(window.innerWidth/2,window.innerHeight/2)){this.cameraPosition=e,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.setScreenSize(),this.drawGhosts(t),t.forEach(t=>{this.drawCreature(t)}),this.fpsCounter.countFrame(),this.fpsCounter.updateFps()}drawGhosts(t){if(n.config.creature.maxHistory)for(let e=0;e<n.config.creature.maxHistory;e++)t.forEach(t=>{this.drawGhost(t,e)})}drawGhost(t,e){this.drawCreatureBody(t,e)}drawCreature(t){this.drawCreatureBody(t),this.drawCreatureBeak(t)}getPositionInCameraSpace(t){return t.add(new s.Vector2(window.innerWidth/2,window.innerHeight/2)).subtract(this.cameraPosition).normalize()}getPositionInWorldSpace(t){return t.subtract(new s.Vector2(window.innerWidth/2,window.innerHeight/2)).add(this.cameraPosition).normalize()}drawCreatureBody(t,e){let i=e?t.history[e]:t.position;i=this.getPositionInCameraSpace(i);const s=e?t.size*((e+1)/(n.config.creature.maxHistory+1)):t.size;this.ctx.beginPath(),this.ctx.arc(i.x,i.y,s,0,2*Math.PI),this.ctx.fillStyle=t.colour,this.ctx.fill()}drawCreatureBeak(t){const e=this.getPositionInCameraSpace(t.position);this.ctx.beginPath(),this.ctx.arc(e.x+(t.size+1)*Math.cos(t.heading),e.y+(t.size+1)*Math.sin(t.heading),t.size/2,0,2*Math.PI),this.ctx.fillStyle="black",this.ctx.fill()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FpsCounter=void 0;class n{constructor(){this.SECOND=1e3,this.recentFrames=[],this.fpsLabel=document.getElementById("fps-status"),this.start=performance.now()}static getFpsCounter(){return this.fpsCounter||(this.fpsCounter=new n)}countFrame(){this.recentFrames.push(performance.now())}getFPS(){const t=performance.now(),e=t-this.start<this.SECOND?Math.floor(1e3/(t-this.start)):1;return this.recentFrames.filter(e=>e>=t-this.SECOND).length*e}updateFps(){this.fpsLabel.textContent=this.getFPS().toString()}}e.FpsCounter=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputHandler=void 0;const n=i(1),s=i(0);e.InputHandler=class{constructor(t,e,i){this.canvas=t,this.createBoid=e,this.createHunter=i,this.separationLabel=document.getElementById("separation-status"),this.alignmentLabel=document.getElementById("alignment-status"),this.cohesionLabel=document.getElementById("cohesion-status"),this.canvas.onclick(t=>{this.handleMouseClick(t)}),window.addEventListener("keyup",t=>{this.handleKeyUp(t)})}handleMouseClick(t){const e=this.canvas.getPositionInWorldSpace(new n.Vector2(t.clientX,t.clientY));t.ctrlKey||t.metaKey?this.createHunter(e):this.createBoid(e)}handleKeyUp(t){switch(t.keyCode){case 49:this.toggleSeparation();break;case 50:this.toggleAlignment();break;case 51:this.toggleCohesion();break;default:return}}toggleSeparation(){s.config.boid.repulsionRadius?(s.config.boid.repulsionRadius=0,this.separationLabel.textContent="OFF",this.separationLabel.style.color="red"):(s.config.boid.repulsionRadius=s.config.boid.repulsionRadiusDefault,this.separationLabel.textContent="ON",this.separationLabel.style.color="green")}toggleAlignment(){s.config.boid.alignmentRadius?(s.config.boid.alignmentRadius=0,this.alignmentLabel.textContent="OFF",this.alignmentLabel.style.color="red"):(s.config.boid.alignmentRadius=s.config.boid.alignmentRadiusDefault,this.alignmentLabel.textContent="ON",this.alignmentLabel.style.color="green")}toggleCohesion(){s.config.boid.attractionRadius?(s.config.boid.attractionRadius=0,this.cohesionLabel.textContent="OFF",this.cohesionLabel.style.color="red"):(s.config.boid.attractionRadius=s.config.boid.attractionRadiusDefault,this.cohesionLabel.textContent="ON",this.cohesionLabel.style.color="green")}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CreatureStorage=void 0;const n=i(10),s=i(15),o=i(0);e.CreatureStorage=class{constructor(){this.nextId=0,this.creatures=new Map,this.bucketMap=[],this.bucketColumns=1,this.bucketRows=1,this.bucketSize=100,this.update()}update(){this.resetBucketMap(),this.creatures.forEach(t=>{const e=Math.min(Math.floor(t.position.x/this.bucketSize),this.bucketColumns-1),i=Math.min(Math.floor(t.position.y/this.bucketSize),this.bucketRows-1);this.bucketMap[e][i].push(t)})}addHunter(t){const e=new n.Hunter(this.nextId,this,t);return this.creatures.set(this.nextId,e),this.nextId++,e}addBoid(t){const e=new s.Boid(this.nextId,this,t);return this.creatures.set(this.nextId,e),this.nextId++,e}getAllHunters(){return[...this.creatures.values()].filter(t=>t instanceof n.Hunter)}getAllBoids(){return[...this.creatures.values()].filter(t=>t instanceof s.Boid)}getAllCreatures(){return[...this.creatures.values()]}getHuntersInArea(t,e){return this.getCreaturesInArea(t,e).filter(i=>i instanceof n.Hunter&&i.position.distance(t)<e)}getBoidsInArea(t,e){return this.getCreaturesInArea(t,e).filter(i=>i instanceof s.Boid&&i.position.distance(t)<e)}getCreaturesInArea(t,e){const i=Math.floor(t.x/this.bucketSize),n=Math.floor(t.y/this.bucketSize),s=Math.ceil(e/this.bucketSize),o=(i-s+this.bucketColumns)%this.bucketColumns,r=(i+s+1)%this.bucketColumns,a=(n-s+this.bucketRows)%this.bucketRows,c=(n+s+1)%this.bucketRows;let u=[];for(let t=o;t!==r;t++,t%=this.bucketColumns)for(let e=a;e!==c;e++,e%=this.bucketRows)u=u.concat(this.bucketMap[t][e]);return u}getHunterCount(){return this.getAllHunters().length}getBoidCount(){return this.getAllBoids().length}remove(t){this.creatures.delete(t)}resetBucketMap(){this.bucketMap=[],this.bucketColumns=Math.ceil(o.config.screen.maxX/this.bucketSize),this.bucketRows=Math.ceil(o.config.screen.maxY/this.bucketSize);for(let t=0;t<this.bucketColumns;t++){const t=[];for(let e=0;e<this.bucketRows;e++)t.push([]);this.bucketMap.push(t)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hunter=void 0;const n=i(0),s=i(1),o=i(2),r=i(11);let a=(()=>{class t extends o.Creature{constructor(e=0,i,o){super(),this.id=e,this.creatureStorage=i,this.colour=n.config.hunter.defaultColour,this.maxSpeed=n.config.hunter.maxSpeed,this.minSpeed=n.config.hunter.minSpeed,this.size=n.config.hunter.size,this.heading=0,this.speed=0,this.history=[],this.position=o||new s.Vector2(Math.random()*n.config.screen.maxX,Math.random()*n.config.screen.maxY);for(let t=0;t<n.config.creature.maxHistory;t++)this.history.push(this.position);this.initializeVelocity(),this.net=new r.Net(t.netSizeSchema)}initializeVelocity(){this.heading=2*Math.random()*Math.PI,this.speed=n.config.hunter.minSpeed}update(){this.eat(),this.move(),this.updateHistory()}eat(){this.creatureStorage.getBoidsInArea(this.position,n.config.hunter.eatRadius).forEach(t=>t.die())}move(){this.updateHistory(),this.position=this.position.add(this.velocity()).normalize();const t=this.getNeuralNetInputVector(),e=this.net.processInput(t);this.parseOutputToAction(e)}getNeuralNetInputVector(){const t=this.creatureStorage.getAllBoids().sort((t,e)=>t.distanceToCreature(this)-e.distanceToCreature(this))[0],e=this.position.vectorTo(t.position);return[this.velocity().angleTo(e)/(2*Math.PI)+.5]}parseOutputToAction(t){const e=t[0],i=this.heading-n.config.creature.turningMax,s=2*n.config.creature.turningMax;this.heading=i+e*s;const o=t[1],r=this.speed-n.config.creature.acceleration+2*n.config.creature.acceleration*o;this.speed=Math.min(Math.max(r,0),n.config.hunter.maxSpeed)}}return t.netSizeSchema=[1,3,2],t})();e.Hunter=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Net=void 0;const n=i(12);e.Net=class{constructor(t){const e=new n.Layer(t[0]);this.layers=[e];let i=e;for(let e=1;e<t.length;e++){const s=new n.Layer(t[e]);s.connectPriorLayer(i),this.layers.push(s),i=s}}processInput(t){this.injectInputVectorToInputLayer(t);for(let t=1;t<this.layers.length;t++)this.layers[t].updateValues();return this.layers[this.layers.length-1].outputVector()}injectInputVectorToInputLayer(t){this.layers[0].injectInputVector(t)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Layer=void 0;const n=i(13);e.Layer=class{constructor(t){this.neurons=[];for(let e=0;e<t;e++)this.neurons.push(new n.Neuron)}connectPriorLayer(t){this.neurons.forEach(e=>{t.neurons.forEach(t=>{n.Neuron.connectPair(t,e)})})}injectInputVector(t){for(let e=0;e<t.length;e++)this.neurons[e].value=t[e]}updateValues(){this.neurons.forEach(t=>t.updateValue())}outputVector(){return this.neurons.map(t=>t.value)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Neuron=void 0;const n=i(14);e.Neuron=class{constructor(){this.inputs=[],this.outputs=[],this.value=0}connectOutput(t){this.outputs.push(t)}connectInput(t){this.inputs.push(t)}static connectPair(t,e){const i=new n.Connection(t,e);t.connectOutput(i),e.connectInput(i)}updateValue(){this.step3Function()}step2Function(){const t=this.inputs.reduce((t,e)=>t+e.getNormalizedOutput(),0)/this.inputs.length;this.value=t<.5?0:1}step3Function(){const t=this.inputs.reduce((t,e)=>t+e.getNormalizedOutput(),0)/this.inputs.length;this.value=t<1/3?0:t<2/3?.5:1}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=void 0;e.Connection=class{constructor(t,e,i=Math.random()){this.input=t,this.output=e,this.weight=i}getNormalizedOutput(){return 2*this.input.value*this.weight}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Boid=void 0;const n=i(0),s=i(1),o=i(16),r=i(18),a=i(3);class c extends r.BehaviourControlledCreature{constructor(){super(...arguments),this.defaultColour=n.config.boid.defaultColour,this.maxSpeed=n.config.boid.maxSpeed,this.minSpeed=n.config.boid.minSpeed,this.size=n.config.boid.size,this.fearCountdown=0,this.heading=2*Math.PI*Math.random(),this.speed=n.config.boid.maxSpeed,this.behaviours=[new o.Behaviour(()=>this.hunterEvasion(),()=>"red"),new o.Behaviour(()=>this.repulsion(),()=>this.fearCountdown?"red":"orange"),new o.Behaviour(()=>this.alignment(),()=>this.fearCountdown?"red":"blue"),new o.Behaviour(()=>this.attraction(),()=>this.fearCountdown?"red":"green")]}initializeVelocity(){this.heading=2*Math.random()*Math.PI,this.speed=n.config.boid.maxSpeed}update(){this.fearCountdown&&this.fearCountdown--,this.move()}hunterEvasion(){const t=this.creatureStorage.getHuntersInArea(this.position,n.config.boid.visionRadius);if(0===t.length)return new a.default;this.fearCountdown=n.config.boid.fearDuration;const e=this.nearestCreatureToPosition(t).position.vectorTo(this.position);return new a.default(e.scaleToLength(this.maxSpeed),100)}repulsion(){const t=this.creatureStorage.getBoidsInArea(this.position,n.config.boid.repulsionRadius).filter(t=>t!==this);if(0===t.length)return new a.default;const e=t.map(t=>t.position.vectorTo(this.position)).map(t=>new a.default(t,this.repulsionWeightFrom(t))),i=e.reduce((t,e)=>t+e.weight,0);return new a.default(a.default.average(e),i)}repulsionWeightFrom(t){const e=(n.config.boid.repulsionRadius-t.length)/n.config.boid.repulsionRadius;return Math.pow(e,2)*n.config.boid.repulsionRadius}alignment(){const t=this.creatureStorage.getBoidsInArea(this.position,n.config.boid.alignmentRadius).filter(t=>t!==this);if(0===t.length)return new a.default;const e=s.Vector2.average(t.map(t=>t.velocity()));return new a.default(this.fearCountdown?e.scaleToLength(this.maxSpeed):e,15)}attraction(){const t=this.creatureStorage.getBoidsInArea(this.position,n.config.boid.attractionRadius).filter(t=>t!==this);if(0===t.length)return new a.default;const e=this.nearestCreatureToPosition(t);return new a.default(this.position.vectorTo(e.position).scaleToLength(this.fearCountdown?this.maxSpeed:1.1*e.speed),10)}die(){this.creatureStorage.remove(this.id)}}e.Boid=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Behaviour=void 0;const n=i(17);e.Behaviour=class{constructor(t,e){this.getIdealWeightedHeading=t,this.getColor=e}getCurrentPriority(){const t=this.getIdealWeightedHeading();return t.weight>0?new n.Priority(t,this.getColor()):null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Priority=void 0;e.Priority=class{constructor(t,e){this.weightedVector=t,this.color=e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BehaviourControlledCreature=void 0;const n=i(0),s=i(1),o=i(2),r=i(3);class a extends o.Creature{constructor(t=0,e,i){super(),this.id=t,this.creatureStorage=e,this.colour="black",this.history=[],this.position=i||new s.Vector2(Math.random()*n.config.screen.maxX,Math.random()*n.config.screen.maxY);for(let t=0;t<n.config.creature.maxHistory;t++)this.history.push(this.position);this.initializeVelocity()}distanceToCreature(t){return this.position.distance(t.position)}move(){this.updateHistory(),this.position=this.position.add(this.velocity()).normalize(),this.updateHeading()}updateHeading(){const t=this.getCurrentPriorities().sort((t,e)=>e.weightedVector.weight-t.weightedVector.weight);0!==t.length?(this.colour=t[0].color,this.updateHeadingTowards(r.default.average(t.map(t=>t.weightedVector)))):this.defaultBehaviour()}getCurrentPriorities(){return this.behaviours.map(t=>t.getCurrentPriority()).filter(t=>t&&t.weightedVector.vector.length&&t.weightedVector.weight)}defaultBehaviour(){this.colour=this.defaultColour,this.speed=Math.max(this.velocity.length-n.config.creature.acceleration,this.minSpeed);const t=2*n.config.creature.turningMax*Math.random()-n.config.creature.turningMax;this.heading=this.heading+t}updateHeadingTowards(t){if(!t)return;let e=Math.max(Math.min(t.length,this.maxSpeed),this.minSpeed);e=Math.max(Math.min(e,this.speed+n.config.creature.acceleration),this.speed-n.config.creature.acceleration),this.speed=e;const i=this.velocity().angleTo(t),s=Math.max(Math.min(i,n.config.creature.turningMax),-n.config.creature.turningMax);this.heading=this.heading+s+2*n.config.creature.headingFuzz*Math.random()-n.config.creature.headingFuzz}nearestCreatureToPosition(t){if(0===t.length)throw new Error("Nearest creature is undefined for zero creatures");return t.reduce((t,e)=>{const i=this.position.vectorTo(e.position).length;return t.distance>i?{distance:i,nearest:e}:t},{distance:this.position.vectorTo(t[0].position).length,nearest:t[0]}).nearest}}e.BehaviourControlledCreature=a}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXRlTWFuYWdlbWVudC9jb25maWcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dlb21ldHJ5L3ZlY3RvcjIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NyZWF0dXJlcy9jcmVhdHVyZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2VvbWV0cnkvd2VpZ2h0ZWRWZWN0b3IyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbnRyeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGVNYW5hZ2VtZW50L3NpbXVsYXRpb25NYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy91aS9jYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpL2Zwc0NvdW50ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpL2lucHV0SGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGVNYW5hZ2VtZW50L2NyZWF0dXJlU3RvcmFnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY3JlYXR1cmVzL2h1bnRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbmV1cmFsL25ldC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbmV1cmFsL2xheWVyLnRzIiwid2VicGFjazovLy8uL3NyYy9uZXVyYWwvbmV1cm9uLnRzIiwid2VicGFjazovLy8uL3NyYy9uZXVyYWwvY29ubmVjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY3JlYXR1cmVzL2JvaWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NyZWF0dXJlcy9iZWhhdmlvdXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NyZWF0dXJlcy9wcmlvcml0eS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY3JlYXR1cmVzL2JlaGF2aW91ckNvbnRyb2xsZWRDcmVhdHVyZS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNvbmZpZyIsImJvaWQiLCJhbGlnbm1lbnRSYWRpdXMiLCJhbGlnbm1lbnRSYWRpdXNEZWZhdWx0IiwiYXR0cmFjdGlvblJhZGl1cyIsImF0dHJhY3Rpb25SYWRpdXNEZWZhdWx0IiwiZGVmYXVsdENvbG91ciIsImZlYXJEdXJhdGlvbiIsIm1heFNwZWVkIiwibWluU3BlZWQiLCJxdWFudGl0eSIsInJlcHVsc2lvblJhZGl1cyIsInJlcHVsc2lvblJhZGl1c0RlZmF1bHQiLCJzaXplIiwidmlzaW9uUmFkaXVzIiwiY3JlYXR1cmUiLCJhY2NlbGVyYXRpb24iLCJoZWFkaW5nRnV6eiIsIm1heEhpc3RvcnkiLCJ0dXJuaW5nTWF4IiwiaHVudGVyIiwiZWF0UmFkaXVzIiwicGxheWVyIiwic2NyZWVuIiwibWF4WCIsIm1heFkiLCJWZWN0b3IyIiwieCIsInkiLCJ0aGlzIiwibGVuZ3RoIiwiTWF0aCIsInNxcnQiLCJwb3ciLCJ2ZWN0b3JzIiwicmVkdWNlIiwicGFydGlhbFN1bSIsImN1cnJlbnQiLCJhZGQiLCJzY2FsZUJ5U2NhbGFyIiwiaGVhZGluZyIsInNwZWVkIiwiY29zIiwic2luIiwidiIsInZlY3RvclRvIiwidmVjdG9yIiwibmVhcmVzdFgiLCJuZWFyZXN0WSIsInJhZGlhbnMiLCJhdGFuMiIsInNjYWxlIiwicG9zaXRpb24iLCJkaXN0YW5jZSIsImhpc3RvcnkiLCJwdXNoIiwic2xpY2UiLCJmcm9tSGVhZGluZ0FuZFNwZWVkIiwid2VpZ2h0Iiwid2VpZ2h0ZWRWZWN0b3JzIiwid2VpZ2h0ZWRBdmVyYWdlIiwicGFydGlhbCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIlNpbXVsYXRpb25NYW5hZ2VyIiwicnVuU2ltdWxhdGlvbiIsImZwc1RhcmdldCIsImNhbnZhc0VsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIkVycm9yIiwiY2FudmFzIiwiQ2FudmFzIiwiaW5wdXRIYW5kbGVyIiwiSW5wdXRIYW5kbGVyIiwiY3JlYXRlQm9pZCIsImNyZWF0ZUh1bnRlciIsImNyZWF0dXJlU3RvcmFnZSIsIkNyZWF0dXJlU3RvcmFnZSIsImFkZEJvaWQiLCJhZGRIdW50ZXIiLCJ0aWNrIiwicGVyZm9ybWFuY2UiLCJub3ciLCJwcmV2aW91c1RpbWUiLCJsYWciLCJjdXJyZW50VGltZSIsImVsYXBzZWQiLCJ1cGRhdGVTaW11bGF0aW9uIiwicmVuZGVyU2ltdWxhdGlvbiIsInNldFRpbWVvdXQiLCJ1cGRhdGUiLCJnZXRBbGxCb2lkcyIsImdldEFsbEh1bnRlcnMiLCJkcmF3IiwiZ2V0QWxsQ3JlYXR1cmVzIiwidXBkYXRlSHVudGVyQ291bnREaXNwbGF5IiwiZ2V0SHVudGVyQ291bnQiLCJ1cGRhdGVCb2lkQ291bnREaXNwbGF5IiwiZ2V0Qm9pZENvdW50IiwiY291bnQiLCJjb3VudERpc3BsYXkiLCJ0ZXh0Q29udGVudCIsImZwc0NvdW50ZXIiLCJGcHNDb3VudGVyIiwiZ2V0RnBzQ291bnRlciIsImNhbWVyYVBvc2l0aW9uIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY29udGV4dCIsImdldENvbnRleHQiLCJjdHgiLCJoZWlnaHQiLCJ3aWR0aCIsInNldFNjcmVlblNpemUiLCJjYWxsYmFjayIsIm9uY2xpY2siLCJjcmVhdHVyZXMiLCJjbGVhclJlY3QiLCJkcmF3R2hvc3RzIiwiZm9yRWFjaCIsImRyYXdDcmVhdHVyZSIsImNvdW50RnJhbWUiLCJ1cGRhdGVGcHMiLCJkcmF3R2hvc3QiLCJoaXN0b3J5SW5kZXgiLCJkcmF3Q3JlYXR1cmVCb2R5IiwiZHJhd0NyZWF0dXJlQmVhayIsInN1YnRyYWN0Iiwibm9ybWFsaXplIiwiZ2V0UG9zaXRpb25JbkNhbWVyYVNwYWNlIiwicmFkaXVzIiwiYmVnaW5QYXRoIiwiYXJjIiwiUEkiLCJmaWxsU3R5bGUiLCJjb2xvdXIiLCJmaWxsIiwiU0VDT05EIiwicmVjZW50RnJhbWVzIiwiZnBzTGFiZWwiLCJzdGFydCIsIm11bHRpcGxpZXIiLCJmbG9vciIsImZpbHRlciIsImRyYXdUaW1lIiwiZ2V0RlBTIiwidG9TdHJpbmciLCJzZXBhcmF0aW9uTGFiZWwiLCJhbGlnbm1lbnRMYWJlbCIsImNvaGVzaW9uTGFiZWwiLCJldmVudCIsImhhbmRsZU1vdXNlQ2xpY2siLCJoYW5kbGVLZXlVcCIsIm1vdXNlUG9zaXRpb24iLCJnZXRQb3NpdGlvbkluV29ybGRTcGFjZSIsImNsaWVudFgiLCJjbGllbnRZIiwiY3RybEtleSIsIm1ldGFLZXkiLCJrZXlDb2RlIiwidG9nZ2xlU2VwYXJhdGlvbiIsInRvZ2dsZUFsaWdubWVudCIsInRvZ2dsZUNvaGVzaW9uIiwic3R5bGUiLCJjb2xvciIsIm5leHRJZCIsIk1hcCIsImJ1Y2tldE1hcCIsImJ1Y2tldENvbHVtbnMiLCJidWNrZXRSb3dzIiwiYnVja2V0U2l6ZSIsInJlc2V0QnVja2V0TWFwIiwiYnVja2V0WCIsIm1pbiIsImJ1Y2tldFkiLCJuZXdIdW50ZXIiLCJIdW50ZXIiLCJzZXQiLCJuZXdCb2lkIiwiQm9pZCIsInZhbHVlcyIsImNlbnRlciIsImdldENyZWF0dXJlc0luQXJlYSIsImJ1Y2tldFJhZGl1cyIsImNlaWwiLCJtaW5YIiwibWluWSIsImoiLCJjb25jYXQiLCJjcmVhdHVyZUlkIiwiZGVsZXRlIiwiYnVja2V0Um93IiwiQ3JlYXR1cmUiLCJpZCIsInN1cGVyIiwicmFuZG9tIiwiaW5pdGlhbGl6ZVZlbG9jaXR5IiwibmV0IiwiTmV0IiwibmV0U2l6ZVNjaGVtYSIsImVhdCIsIm1vdmUiLCJ1cGRhdGVIaXN0b3J5IiwiZ2V0Qm9pZHNJbkFyZWEiLCJwcmV5IiwiZGllIiwidmVsb2NpdHkiLCJpbnB1dFZlY3RvciIsImdldE5ldXJhbE5ldElucHV0VmVjdG9yIiwib3V0cHV0VmVjdG9yIiwicHJvY2Vzc0lucHV0IiwicGFyc2VPdXRwdXRUb0FjdGlvbiIsIm5lYXJlc3RCb2lkIiwic29ydCIsImEiLCJiIiwiZGlzdGFuY2VUb0NyZWF0dXJlIiwic2hvcnRlc3RQYXRoIiwiYW5nbGVUbyIsInJvdGF0aW9uRGVjaXNpb24iLCJtYXhpbXVtTGVmdCIsImZ1bGxUdXJuaW5nUmFuZ2UiLCJhY2NlbGVyYXRpb25EZWNpc2lvbiIsInRhcmdldFNwZWVkIiwibWF4IiwibGF5ZXJTaXplcyIsImlucHV0TGF5ZXIiLCJMYXllciIsImxheWVycyIsInByaW9yTGF5ZXIiLCJuZXh0TGF5ZXIiLCJjb25uZWN0UHJpb3JMYXllciIsImluamVjdElucHV0VmVjdG9yVG9JbnB1dExheWVyIiwidXBkYXRlVmFsdWVzIiwiaW5qZWN0SW5wdXRWZWN0b3IiLCJuZXVyb25zIiwiTmV1cm9uIiwibmV1cm9uIiwicHJpb3JOZXVyb24iLCJjb25uZWN0UGFpciIsInVwZGF0ZVZhbHVlIiwibWFwIiwiaW5wdXRzIiwib3V0cHV0cyIsImNvbm5lY3Rpb24iLCJwcmlvciIsIm5leHQiLCJDb25uZWN0aW9uIiwiY29ubmVjdE91dHB1dCIsImNvbm5lY3RJbnB1dCIsInN0ZXAzRnVuY3Rpb24iLCJhdmVyYWdlSW5wdXQiLCJwcmV2IiwiY3VyciIsImdldE5vcm1hbGl6ZWRPdXRwdXQiLCJpbnB1dCIsIm91dHB1dCIsIkJlaGF2aW91ckNvbnRyb2xsZWRDcmVhdHVyZSIsImZlYXJDb3VudGRvd24iLCJiZWhhdmlvdXJzIiwiQmVoYXZpb3VyIiwiaHVudGVyRXZhc2lvbiIsInJlcHVsc2lvbiIsImFsaWdubWVudCIsImF0dHJhY3Rpb24iLCJodW50ZXJzSW5TaWdodCIsImdldEh1bnRlcnNJbkFyZWEiLCJ2ZWN0b3JUb01lIiwibmVhcmVzdENyZWF0dXJlVG9Qb3NpdGlvbiIsInNjYWxlVG9MZW5ndGgiLCJuZWlnaGJvdXJzIiwicmVwdWxzaW9uVmVjdG9ycyIsInJlcHVsc2lvbldlaWdodEZyb20iLCJ0b3RhbFdlaWdodCIsInBhcnRpYWxXZWlnaHQiLCJhdmVyYWdlIiwibm9ybWFsaXplZEludHJ1c2lvbiIsImF2ZXJhZ2VBbGlnbm1lbnRWZWN0b3IiLCJuZWFyZXN0TmVpZ2hib3VyIiwicmVtb3ZlIiwiZ2V0SWRlYWxXZWlnaHRlZEhlYWRpbmciLCJnZXRDb2xvciIsIndlaWdodGVkSGVhZGluZyIsIlByaW9yaXR5Iiwid2VpZ2h0ZWRWZWN0b3IiLCJ1cGRhdGVIZWFkaW5nIiwicHJpb3JpdGllcyIsImdldEN1cnJlbnRQcmlvcml0aWVzIiwidXBkYXRlSGVhZGluZ1Rvd2FyZHMiLCJwcmlvcml0eSIsImRlZmF1bHRCZWhhdmlvdXIiLCJiZWhhdmlvdXIiLCJnZXRDdXJyZW50UHJpb3JpdHkiLCJyYW5kb21UdXJuIiwibGltaXRlZFNwZWVkIiwiaWRlYWxUdXJuIiwibGltaXRlZFR1cm4iLCJwcmV2aW91cyIsImN1cnJlbnREaXN0YW5jZSIsIm5lYXJlc3QiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFF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QUFPZSxTQUFTQyxjQUMvQmEsS0FBS1ksTUFBUThQLEVBRWIsTUFBTUMsRUFBWTNRLEtBQUtrTCxXQUFXWSxRQUFRN0ssR0FDcEMyUCxFQUFjMVEsS0FBS2tNLElBQ3ZCbE0sS0FBSytJLElBQUkwSCxFQUFXLEVBQUF4UyxPQUFPZSxTQUFTSSxhQUNuQyxFQUFBbkIsT0FBT2UsU0FBU0ksWUFHbkJVLEtBQUtXLFFBQVVYLEtBQUtXLFFBQ2hCaVEsRUFDQSxFQUFJLEVBQUF6UyxPQUFPZSxTQUFTRSxZQUFjYyxLQUFLcUssU0FBVyxFQUFBcE0sT0FBT2UsU0FBU0UsWUFHakUsMEJBQTBCb0csR0FDL0IsR0FBeUIsSUFBckJBLEVBQVV2RixPQUNaLE1BQU0sSUFBSXVDLE1BQU0sb0RBRWxCLE9BQU9nRCxFQUFVbEYsT0FBTyxDQUFDdVEsRUFBVXJRLEtBQ2pDLE1BQU1zUSxFQUFrQjlRLEtBQUt1QixTQUFTUCxTQUFTUixFQUFRZSxVQUFVdEIsT0FDakUsT0FBSTRRLEVBQVNyUCxTQUFXc1AsRUFDZixDQUNMdFAsU0FBVXNQLEVBQ1ZDLFFBQVN2USxHQUdOcVEsR0FDTixDQUNEclAsU0FBVXhCLEtBQUt1QixTQUFTUCxTQUFTd0UsRUFBVSxHQUFHakUsVUFBVXRCLE9BQ3hEOFEsUUFBU3ZMLEVBQVUsS0FDbEJ1TCxTQXhHUCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNCk7XG4iLCJleHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIGJvaWQ6IHtcclxuICAgIGFsaWdubWVudFJhZGl1czogNDAsXHJcbiAgICBhbGlnbm1lbnRSYWRpdXNEZWZhdWx0OiA0MCxcclxuICAgIGF0dHJhY3Rpb25SYWRpdXM6IDIwMCxcclxuICAgIGF0dHJhY3Rpb25SYWRpdXNEZWZhdWx0OiAyMDAsXHJcbiAgICBkZWZhdWx0Q29sb3VyOiBcIkxpZ2h0U3RlZWxCbHVlXCIsXHJcbiAgICBmZWFyRHVyYXRpb246IDMwLFxyXG4gICAgbWF4U3BlZWQ6IDYsXHJcbiAgICBtaW5TcGVlZDogMyxcclxuICAgIHF1YW50aXR5OiAxMDAsXHJcbiAgICByZXB1bHNpb25SYWRpdXM6IDMwLFxyXG4gICAgcmVwdWxzaW9uUmFkaXVzRGVmYXVsdDogMzAsXHJcbiAgICBzaXplOiA0LFxyXG4gICAgdmlzaW9uUmFkaXVzOiAyMDAsXHJcbiAgfSxcclxuICBjcmVhdHVyZToge1xyXG4gICAgYWNjZWxlcmF0aW9uOiAwLjIsXHJcbiAgICBoZWFkaW5nRnV6ejogMC4wNSxcclxuICAgIG1heEhpc3Rvcnk6IDUsXHJcbiAgICB0dXJuaW5nTWF4OiAwLjIsIC8vIHJhZGlhbnNcclxuICB9LFxyXG4gIGh1bnRlcjoge1xyXG4gICAgZGVmYXVsdENvbG91cjogXCJwaW5rXCIsXHJcbiAgICBlYXRSYWRpdXM6IDIwLFxyXG4gICAgbWF4U3BlZWQ6IDUsXHJcbiAgICBtaW5TcGVlZDogMCxcclxuICAgIHF1YW50aXR5OiAxLFxyXG4gICAgc2l6ZTogOCxcclxuICAgIHZpc2lvblJhZGl1czogOTAsXHJcbiAgfSxcclxuICBwbGF5ZXI6IHtcclxuICAgIG1heFNwZWVkOiA2NCxcclxuICAgIG1pblNwZWVkOiAwLFxyXG4gIH0sXHJcbiAgc2NyZWVuOiB7XHJcbiAgICAvLyBtYXhYIGFuZCBtYXhZIGFyZSBvdmVyd3JpdHRlbiBhdCBydW4gdGltZVxyXG4gICAgLy8gYWNjb3JkaW5nIHRvIGFjdHVhbCBzY3JlZW4gc2l6ZVxyXG4gICAgbWF4WDogMTAwMCxcclxuICAgIG1heFk6IDEwMDAsXHJcbiAgfSxcclxufTtcclxuIiwiaW1wb3J0IHsgY29uZmlnIH0gZnJvbSBcInN0YXRlTWFuYWdlbWVudC9jb25maWdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWZWN0b3IyIHtcclxuICBwdWJsaWMgc3RhdGljIGF2ZXJhZ2UodmVjdG9yczogVmVjdG9yMltdKTogVmVjdG9yMiB7XHJcbiAgICBpZiAodmVjdG9ycy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB0b3RhbFZlY3RvciA9IHZlY3RvcnMucmVkdWNlKChwYXJ0aWFsU3VtLCBjdXJyZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiBwYXJ0aWFsU3VtLmFkZChjdXJyZW50KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0b3RhbFZlY3Rvci5zY2FsZUJ5U2NhbGFyKDEgLyB2ZWN0b3JzLmxlbmd0aCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIGZyb21IZWFkaW5nQW5kU3BlZWQoaGVhZGluZzogbnVtYmVyLCBzcGVlZDogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICBpZiAoIXNwZWVkKSB7XHJcbiAgICAgIHJldHVybiBuZXcgVmVjdG9yMigwLCAwKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgVmVjdG9yMihcclxuICAgICAgc3BlZWQgKiBNYXRoLmNvcyhoZWFkaW5nKSxcclxuICAgICAgc3BlZWQgKiBNYXRoLnNpbihoZWFkaW5nKSxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgeDogbnVtYmVyO1xyXG4gIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgcHVibGljIGxlbmd0aDogbnVtYmVyO1xyXG4gIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCkge1xyXG4gICAgdGhpcy54ID0geCAlIGNvbmZpZy5zY3JlZW4ubWF4WDtcclxuICAgIHRoaXMueSA9IHkgJSBjb25maWcuc2NyZWVuLm1heFk7XHJcbiAgICB0aGlzLmxlbmd0aCA9IE1hdGguc3FydChNYXRoLnBvdyh0aGlzLngsIDIpICsgTWF0aC5wb3codGhpcy55LCAyKSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdW5pdFZlY3RvcigpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLnNjYWxlQnlTY2FsYXIoMSAvIHRoaXMubGVuZ3RoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkaXN0YW5jZSh2OiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnZlY3RvclRvKHYpLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB2ZWN0b3JUbyh2ZWN0b3I6IFZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIGxldCBuZWFyZXN0WCA9ICh2ZWN0b3IueCAtIHRoaXMueCkgJSBjb25maWcuc2NyZWVuLm1heFg7XHJcbiAgICBpZiAobmVhcmVzdFggPiAoY29uZmlnLnNjcmVlbi5tYXhYIC8gMikpIHtcclxuICAgICAgbmVhcmVzdFggLT0gY29uZmlnLnNjcmVlbi5tYXhYO1xyXG4gICAgfVxyXG4gICAgaWYgKG5lYXJlc3RYIDwgLShjb25maWcuc2NyZWVuLm1heFggLyAyKSkge1xyXG4gICAgICBuZWFyZXN0WCArPSBjb25maWcuc2NyZWVuLm1heFg7XHJcbiAgICB9XHJcbiAgICBsZXQgbmVhcmVzdFkgPSAodmVjdG9yLnkgLSB0aGlzLnkpICUgY29uZmlnLnNjcmVlbi5tYXhZO1xyXG4gICAgaWYgKG5lYXJlc3RZID4gKGNvbmZpZy5zY3JlZW4ubWF4WSAvIDIpKSB7XHJcbiAgICAgIG5lYXJlc3RZIC09IGNvbmZpZy5zY3JlZW4ubWF4WTtcclxuICAgIH1cclxuICAgIGlmIChuZWFyZXN0WSA8IC0oY29uZmlnLnNjcmVlbi5tYXhZIC8gMikpIHtcclxuICAgICAgbmVhcmVzdFkgKz0gY29uZmlnLnNjcmVlbi5tYXhZO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKG5lYXJlc3RYLCBuZWFyZXN0WSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcm90YXRlKHJhZGlhbnM6IG51bWJlcik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKFxyXG4gICAgICB0aGlzLnggKiBNYXRoLmNvcyhyYWRpYW5zKSAtIHRoaXMueSAqIE1hdGguc2luKHJhZGlhbnMpLFxyXG4gICAgICB0aGlzLnggKiBNYXRoLnNpbihyYWRpYW5zKSArIHRoaXMueSAqIE1hdGguY29zKHJhZGlhbnMpLFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIE1lYXN1cmVzIGFudGkgY2xvY2t3aXNlIGZyb20gLVBJIHRvIFBJXHJcbiAgcHVibGljIGFuZ2xlVG8odjogVmVjdG9yMik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5hdGFuMihcclxuICAgICAgdGhpcy54ICogdi55IC0gdGhpcy55ICogdi54LFxyXG4gICAgICB0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2LnksXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFkZCh2OiBWZWN0b3IyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54ICsgdi54LCB0aGlzLnkgKyB2LnkpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN1YnRyYWN0KHY6IFZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnggLSB2LngsIHRoaXMueSAtIHYueSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZXF1YWxzKHY6IFZlY3RvcjIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnggPT09IHYueCAmJiB0aGlzLnkgPT09IHYueTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzY2FsZUJ5U2NhbGFyKHNjYWxlOiBudW1iZXIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNjYWxlVG9MZW5ndGgobGVuZ3RoOiBudW1iZXIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLmxlbmd0aCA/XHJcbiAgICAgIHRoaXMuc2NhbGVCeVNjYWxhcihsZW5ndGggLyB0aGlzLmxlbmd0aCkgOlxyXG4gICAgICB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGlzUGFyYWxsZWxUbyh2OiBWZWN0b3IyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy54ICogdi55ID09PSB0aGlzLnkgKiB2Lng7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbm9ybWFsaXplKCk6IFZlY3RvcjIge1xyXG4gICAgaWYgKDAgPD0gdGhpcy54ICYmXHJcbiAgICAgIDAgPD0gdGhpcy55KSB7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKFxyXG4gICAgICAoKHRoaXMueCAlIGNvbmZpZy5zY3JlZW4ubWF4WCkgKyBjb25maWcuc2NyZWVuLm1heFgpICUgY29uZmlnLnNjcmVlbi5tYXhYLFxyXG4gICAgICAoKHRoaXMueSAlIGNvbmZpZy5zY3JlZW4ubWF4WSkgKyBjb25maWcuc2NyZWVuLm1heFkpICUgY29uZmlnLnNjcmVlbi5tYXhZLFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB0b0hlYWRpbmcoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMueSwgdGhpcy54KTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGBbJHt0aGlzLnh9LCAke3RoaXMueX1dYDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCJnZW9tZXRyeS92ZWN0b3IyXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ3JlYXR1cmUge1xyXG4gIHB1YmxpYyBhYnN0cmFjdCBwb3NpdGlvbjogVmVjdG9yMjtcclxuICBwdWJsaWMgYWJzdHJhY3QgaGVhZGluZzogbnVtYmVyO1xyXG4gIHB1YmxpYyBhYnN0cmFjdCBzcGVlZDogbnVtYmVyO1xyXG4gIHB1YmxpYyBhYnN0cmFjdCBoaXN0b3J5OiBWZWN0b3IyW107XHJcbiAgcHVibGljIGFic3RyYWN0IGNvbG91cjogc3RyaW5nO1xyXG4gIHB1YmxpYyBhYnN0cmFjdCBzaXplOiBudW1iZXI7XHJcblxyXG4gIHB1YmxpYyBkaXN0YW5jZVRvQ3JlYXR1cmUoY3JlYXR1cmU6IENyZWF0dXJlKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLmRpc3RhbmNlKGNyZWF0dXJlLnBvc2l0aW9uKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhYnN0cmFjdCB1cGRhdGUoKTogdm9pZDtcclxuXHJcbiAgcHVibGljIHVwZGF0ZUhpc3RvcnkoKTogdm9pZCB7XHJcbiAgICB0aGlzLmhpc3RvcnkucHVzaCh0aGlzLnBvc2l0aW9uKTtcclxuICAgIHRoaXMuaGlzdG9yeSA9IHRoaXMuaGlzdG9yeS5zbGljZSgxKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB2ZWxvY2l0eSgpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBWZWN0b3IyLmZyb21IZWFkaW5nQW5kU3BlZWQodGhpcy5oZWFkaW5nLCB0aGlzLnNwZWVkKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL3ZlY3RvcjJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlaWdodGVkVmVjdG9yMiB7XHJcbiAgcHVibGljIHN0YXRpYyBhdmVyYWdlKHdlaWdodGVkVmVjdG9yczogV2VpZ2h0ZWRWZWN0b3IyW10pOiBWZWN0b3IyIHtcclxuICAgIGlmICh3ZWlnaHRlZFZlY3RvcnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBuZXcgVmVjdG9yMigpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgd2VpZ2h0ZWRBdmVyYWdlID0gd2VpZ2h0ZWRWZWN0b3JzLnJlZHVjZSgocGFydGlhbCwgY3VycmVudCkgPT4ge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHZlY3RvcjogcGFydGlhbC52ZWN0b3IuYWRkKGN1cnJlbnQudmVjdG9yLnNjYWxlQnlTY2FsYXIoY3VycmVudC53ZWlnaHQpKSxcclxuICAgICAgICB3ZWlnaHQ6IHBhcnRpYWwud2VpZ2h0ICsgY3VycmVudC53ZWlnaHQsXHJcbiAgICAgIH07XHJcbiAgICB9LCB7XHJcbiAgICAgIHZlY3RvcjogbmV3IFZlY3RvcjIoKSxcclxuICAgICAgd2VpZ2h0OiAwLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHdlaWdodGVkQXZlcmFnZS52ZWN0b3Iuc2NhbGVCeVNjYWxhcigxIC8gd2VpZ2h0ZWRBdmVyYWdlLndlaWdodCk7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHB1YmxpYyB2ZWN0b3I6IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigpLFxyXG4gICAgcHVibGljIHdlaWdodDogbnVtYmVyID0gMCxcclxuICApIHt9XHJcbn1cclxuIiwiaW1wb3J0IHsgU2ltdWxhdGlvbk1hbmFnZXIgfSBmcm9tIFwiLi9zdGF0ZU1hbmFnZW1lbnQvc2ltdWxhdGlvbk1hbmFnZXJcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICBuZXcgU2ltdWxhdGlvbk1hbmFnZXIoKS5ydW5TaW11bGF0aW9uKCk7XHJcbn0sIGZhbHNlKTtcclxuIiwiaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSBcInVpL2NhbnZhc1wiO1xyXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tIFwiLi9jb25maWdcIjtcclxuaW1wb3J0IHsgSW5wdXRIYW5kbGVyIH0gZnJvbSBcInVpL2lucHV0SGFuZGxlclwiO1xyXG5pbXBvcnQgeyBDcmVhdHVyZVN0b3JhZ2UgfSBmcm9tIFwiLi9jcmVhdHVyZVN0b3JhZ2VcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCJnZW9tZXRyeS92ZWN0b3IyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2ltdWxhdGlvbk1hbmFnZXIge1xyXG4gIHByaXZhdGUgY2FudmFzOiBDYW52YXM7XHJcbiAgcHJpdmF0ZSBpbnB1dEhhbmRsZXI6IElucHV0SGFuZGxlcjtcclxuICBwcml2YXRlIGNyZWF0dXJlU3RvcmFnZTogQ3JlYXR1cmVTdG9yYWdlO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgZnBzVGFyZ2V0ID0gNjA7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBjb25zdCBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBpZiAoIWNhbnZhc0VsZW1lbnQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY291bGRuJ3QgZmluZCAnY2FudmFzJyBvbiBkb2N1bWVudFwiKTtcclxuICAgIH1cclxuICAgIHRoaXMuY2FudmFzID0gbmV3IENhbnZhcyhjYW52YXNFbGVtZW50KTtcclxuICAgIHRoaXMuaW5wdXRIYW5kbGVyID0gbmV3IElucHV0SGFuZGxlcihcclxuICAgICAgdGhpcy5jYW52YXMsXHJcbiAgICAgIChwb3NpdGlvbjogVmVjdG9yMikgPT4gdGhpcy5jcmVhdGVCb2lkKHBvc2l0aW9uKSxcclxuICAgICAgKHBvc2l0aW9uOiBWZWN0b3IyKSA9PiB0aGlzLmNyZWF0ZUh1bnRlcihwb3NpdGlvbiksXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuY3JlYXR1cmVTdG9yYWdlID0gbmV3IENyZWF0dXJlU3RvcmFnZSgpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb25maWcuYm9pZC5xdWFudGl0eTsgaSsrKSB7XHJcbiAgICAgIHRoaXMuY3JlYXR1cmVTdG9yYWdlLmFkZEJvaWQoKTtcclxuICAgIH1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uZmlnLmh1bnRlci5xdWFudGl0eTsgaSsrKSB7XHJcbiAgICAgIHRoaXMuY3JlYXR1cmVTdG9yYWdlLmFkZEh1bnRlcigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGNyZWF0ZUJvaWQocG9zaXRpb24/OiBWZWN0b3IyKTogdm9pZCB7XHJcbiAgICB0aGlzLmNyZWF0dXJlU3RvcmFnZS5hZGRCb2lkKHBvc2l0aW9uKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBjcmVhdGVIdW50ZXIocG9zaXRpb24/OiBWZWN0b3IyKTogdm9pZCB7XHJcbiAgICB0aGlzLmNyZWF0dXJlU3RvcmFnZS5hZGRIdW50ZXIocG9zaXRpb24pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJ1blNpbXVsYXRpb24oKTogdm9pZCB7XHJcbiAgICB0aGlzLnRpY2socGVyZm9ybWFuY2Uubm93KCksIDApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHRpY2socHJldmlvdXNUaW1lOiBudW1iZXIsIGxhZzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgY29uc3QgZWxhcHNlZCA9IGN1cnJlbnRUaW1lIC0gcHJldmlvdXNUaW1lO1xyXG4gICAgcHJldmlvdXNUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICBsYWcgKz0gZWxhcHNlZDtcclxuXHJcbiAgICB3aGlsZSAobGFnID49IDEwMDAgLyB0aGlzLmZwc1RhcmdldCkge1xyXG4gICAgICB0aGlzLnVwZGF0ZVNpbXVsYXRpb24oKTtcclxuICAgICAgbGFnIC09IDEwMDAgLyB0aGlzLmZwc1RhcmdldDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJlbmRlclNpbXVsYXRpb24oKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy50aWNrKHByZXZpb3VzVGltZSwgbGFnKSwgMCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdXBkYXRlU2ltdWxhdGlvbigpOiB2b2lkIHtcclxuICAgIHRoaXMuY3JlYXR1cmVTdG9yYWdlLnVwZGF0ZSgpO1xyXG4gICAgZm9yIChjb25zdCBib2lkIG9mIHRoaXMuY3JlYXR1cmVTdG9yYWdlLmdldEFsbEJvaWRzKCkpIHtcclxuICAgICAgYm9pZC51cGRhdGUoKTtcclxuICAgIH1cclxuICAgIGZvciAoY29uc3QgaHVudGVyIG9mIHRoaXMuY3JlYXR1cmVTdG9yYWdlLmdldEFsbEh1bnRlcnMoKSkge1xyXG4gICAgICBodW50ZXIudXBkYXRlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVuZGVyU2ltdWxhdGlvbigpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLmRyYXcoXHJcbiAgICAgIHRoaXMuY3JlYXR1cmVTdG9yYWdlLmdldEFsbENyZWF0dXJlcygpLFxyXG4gICAgKTtcclxuICAgIHRoaXMudXBkYXRlSHVudGVyQ291bnREaXNwbGF5KFxyXG4gICAgICB0aGlzLmNyZWF0dXJlU3RvcmFnZS5nZXRIdW50ZXJDb3VudCgpLFxyXG4gICAgKTtcclxuICAgIHRoaXMudXBkYXRlQm9pZENvdW50RGlzcGxheShcclxuICAgICAgdGhpcy5jcmVhdHVyZVN0b3JhZ2UuZ2V0Qm9pZENvdW50KCksXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVIdW50ZXJDb3VudERpc3BsYXkoY291bnQ6IG51bWJlcikge1xyXG4gICAgY29uc3QgY291bnREaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJudW1iZXItb2YtaHVudGVyc1wiKTtcclxuICAgIGlmIChjb3VudERpc3BsYXkpIHtcclxuICAgICAgY291bnREaXNwbGF5LnRleHRDb250ZW50ID0gYCR7Y291bnR9YDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlQm9pZENvdW50RGlzcGxheShjb3VudDogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBjb3VudERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm51bWJlci1vZi1ib2lkc1wiKTtcclxuICAgIGlmIChjb3VudERpc3BsYXkpIHtcclxuICAgICAgY291bnREaXNwbGF5LnRleHRDb250ZW50ID0gYCR7Y291bnR9YDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgY29uZmlnIH0gZnJvbSBcInN0YXRlTWFuYWdlbWVudC9jb25maWdcIjtcclxuaW1wb3J0IHsgQ3JlYXR1cmUgfSBmcm9tIFwiY3JlYXR1cmVzL2NyZWF0dXJlXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiZ2VvbWV0cnkvdmVjdG9yMlwiO1xyXG5pbXBvcnQgeyBGcHNDb3VudGVyIH0gZnJvbSBcIi4vZnBzQ291bnRlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbnZhcyB7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBmcHNDb3VudGVyOiBGcHNDb3VudGVyO1xyXG4gIHByaXZhdGUgY2FtZXJhUG9zaXRpb246IFZlY3RvcjI7XHJcbiAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gIHByaXZhdGUgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGNhbnZhc0VsZW1lbnQ6IEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICB0aGlzLmZwc0NvdW50ZXIgPSBGcHNDb3VudGVyLmdldEZwc0NvdW50ZXIoKTtcclxuICAgIHRoaXMuY2FtZXJhUG9zaXRpb24gPSBuZXcgVmVjdG9yMih3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuICAgIHRoaXMuY2FudmFzID0gY2FudmFzRWxlbWVudDtcclxuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICBpZiAoIWNvbnRleHQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY291bGQgbm90IGdldCBjYW52YXMgY29udGV4dFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY3R4ID0gY29udGV4dDtcclxuICAgIH1cclxuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGNvbmZpZy5zY3JlZW4ubWF4WTtcclxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gY29uZmlnLnNjcmVlbi5tYXhYO1xyXG5cclxuICAgIHRoaXMuc2V0U2NyZWVuU2l6ZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG9uY2xpY2soY2FsbGJhY2s6ICgoZXY6IE1vdXNlRXZlbnQpID0+IHZvaWQpKTogdm9pZCB7XHJcbiAgICB0aGlzLmNhbnZhcy5vbmNsaWNrID0gY2FsbGJhY2s7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0U2NyZWVuU2l6ZSgpOiB2b2lkIHtcclxuICAgIGlmICh3aW5kb3cpIHtcclxuICAgICAgY29uZmlnLnNjcmVlbi5tYXhYID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgIGNvbmZpZy5zY3JlZW4ubWF4WSA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIH1cclxuICAgIHRoaXMuY3R4LmNhbnZhcy53aWR0aCA9IGNvbmZpZy5zY3JlZW4ubWF4WDtcclxuICAgIHRoaXMuY3R4LmNhbnZhcy5oZWlnaHQgPSBjb25maWcuc2NyZWVuLm1heFk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZHJhdyhcclxuICAgIGNyZWF0dXJlczogQ3JlYXR1cmVbXSxcclxuICAgIGNhbWVyYVBvc2l0aW9uOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIod2luZG93LmlubmVyV2lkdGggLyAyLCB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKSxcclxuICApOiB2b2lkIHtcclxuICAgIHRoaXMuY2FtZXJhUG9zaXRpb24gPSBjYW1lcmFQb3NpdGlvbjtcclxuICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgIHRoaXMuc2V0U2NyZWVuU2l6ZSgpO1xyXG4gICAgdGhpcy5kcmF3R2hvc3RzKGNyZWF0dXJlcyk7XHJcbiAgICBjcmVhdHVyZXMuZm9yRWFjaCgoY3JlYXR1cmUpID0+IHtcclxuICAgICAgdGhpcy5kcmF3Q3JlYXR1cmUoY3JlYXR1cmUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5mcHNDb3VudGVyLmNvdW50RnJhbWUoKTtcclxuICAgIHRoaXMuZnBzQ291bnRlci51cGRhdGVGcHMoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3R2hvc3RzKGNyZWF0dXJlczogQ3JlYXR1cmVbXSk6IHZvaWQge1xyXG4gICAgaWYgKCFjb25maWcuY3JlYXR1cmUubWF4SGlzdG9yeSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbmZpZy5jcmVhdHVyZS5tYXhIaXN0b3J5OyBpKyspIHtcclxuICAgICAgY3JlYXR1cmVzLmZvckVhY2goKGNyZWF0dXJlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kcmF3R2hvc3QoY3JlYXR1cmUsIGkpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3R2hvc3QoY3JlYXR1cmU6IENyZWF0dXJlLCBoaXN0b3J5SW5kZXg6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5kcmF3Q3JlYXR1cmVCb2R5KGNyZWF0dXJlLCBoaXN0b3J5SW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGRyYXdDcmVhdHVyZShjcmVhdHVyZTogQ3JlYXR1cmUpOiB2b2lkIHtcclxuICAgIHRoaXMuZHJhd0NyZWF0dXJlQm9keShjcmVhdHVyZSk7XHJcbiAgICB0aGlzLmRyYXdDcmVhdHVyZUJlYWsoY3JlYXR1cmUpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldFBvc2l0aW9uSW5DYW1lcmFTcGFjZShwb3NpdGlvbjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHBvc2l0aW9uXHJcbiAgICAgIC5hZGQobmV3IFZlY3RvcjIod2luZG93LmlubmVyV2lkdGggLyAyLCB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKSlcclxuICAgICAgLnN1YnRyYWN0KHRoaXMuY2FtZXJhUG9zaXRpb24pXHJcbiAgICAgIC5ub3JtYWxpemUoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRQb3NpdGlvbkluV29ybGRTcGFjZShwb3NpdGlvbjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHBvc2l0aW9uXHJcbiAgICAgIC5zdWJ0cmFjdChuZXcgVmVjdG9yMih3aW5kb3cuaW5uZXJXaWR0aCAvIDIsIHdpbmRvdy5pbm5lckhlaWdodCAvIDIpKVxyXG4gICAgICAuYWRkKHRoaXMuY2FtZXJhUG9zaXRpb24pXHJcbiAgICAgIC5ub3JtYWxpemUoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3Q3JlYXR1cmVCb2R5KGNyZWF0dXJlOiBDcmVhdHVyZSwgaGlzdG9yeUluZGV4PzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBsZXQgcG9zaXRpb24gPSBoaXN0b3J5SW5kZXggPyBjcmVhdHVyZS5oaXN0b3J5W2hpc3RvcnlJbmRleF0gOiBjcmVhdHVyZS5wb3NpdGlvbjtcclxuICAgIHBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbkluQ2FtZXJhU3BhY2UocG9zaXRpb24pO1xyXG4gICAgY29uc3QgcmFkaXVzID0gaGlzdG9yeUluZGV4ID9cclxuICAgICAgY3JlYXR1cmUuc2l6ZSAqICgoaGlzdG9yeUluZGV4ICsgMSkgLyAoY29uZmlnLmNyZWF0dXJlLm1heEhpc3RvcnkgKyAxKSkgOlxyXG4gICAgICBjcmVhdHVyZS5zaXplO1xyXG4gICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICB0aGlzLmN0eC5hcmMoXHJcbiAgICAgIHBvc2l0aW9uLngsXHJcbiAgICAgIHBvc2l0aW9uLnksXHJcbiAgICAgIHJhZGl1cyxcclxuICAgICAgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gY3JlYXR1cmUuY29sb3VyO1xyXG4gICAgdGhpcy5jdHguZmlsbCgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGRyYXdDcmVhdHVyZUJlYWsoY3JlYXR1cmU6IENyZWF0dXJlKTogdm9pZCB7XHJcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZ2V0UG9zaXRpb25JbkNhbWVyYVNwYWNlKGNyZWF0dXJlLnBvc2l0aW9uKTtcclxuICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgdGhpcy5jdHguYXJjKFxyXG4gICAgICBwb3NpdGlvbi54ICsgKGNyZWF0dXJlLnNpemUgKyAxKSAqIE1hdGguY29zKGNyZWF0dXJlLmhlYWRpbmcpLFxyXG4gICAgICBwb3NpdGlvbi55ICsgKGNyZWF0dXJlLnNpemUgKyAxKSAqIE1hdGguc2luKGNyZWF0dXJlLmhlYWRpbmcpLFxyXG4gICAgICBjcmVhdHVyZS5zaXplIC8gMiwgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgdGhpcy5jdHguZmlsbCgpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRnBzQ291bnRlciB7XG4gIHB1YmxpYyBzdGF0aWMgZ2V0RnBzQ291bnRlcigpOiBGcHNDb3VudGVyIHtcbiAgICByZXR1cm4gdGhpcy5mcHNDb3VudGVyIHx8ICh0aGlzLmZwc0NvdW50ZXIgPSBuZXcgRnBzQ291bnRlcigpKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGZwc0NvdW50ZXI6IEZwc0NvdW50ZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgU0VDT05EID0gMTAwMDtcblxuICBwcml2YXRlIGZwc0xhYmVsOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSByZWNlbnRGcmFtZXM6IG51bWJlcltdID0gW107XG4gIHByaXZhdGUgc3RhcnQ6IG51bWJlcjtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZnBzTGFiZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZwcy1zdGF0dXNcIikhO1xuICAgIHRoaXMuc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgfVxuXG4gIHB1YmxpYyBjb3VudEZyYW1lKCk6IHZvaWQge1xuICAgIHRoaXMucmVjZW50RnJhbWVzLnB1c2gocGVyZm9ybWFuY2Uubm93KCkpO1xuICB9XG5cbiAgcHVibGljIGdldEZQUygpOiBudW1iZXIge1xuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgbXVsdGlwbGllciA9IGN1cnJlbnRUaW1lIC0gdGhpcy5zdGFydCA8IHRoaXMuU0VDT05EID9cbiAgICAgIE1hdGguZmxvb3IoMTAwMCAvIChjdXJyZW50VGltZSAtIHRoaXMuc3RhcnQpKSA6XG4gICAgICAxO1xuICAgIHJldHVybiB0aGlzLnJlY2VudEZyYW1lcy5maWx0ZXIoXG4gICAgICAoZHJhd1RpbWU6IG51bWJlcikgPT4gZHJhd1RpbWUgPj0gY3VycmVudFRpbWUgLSB0aGlzLlNFQ09ORCxcbiAgICApLmxlbmd0aCAqIG11bHRpcGxpZXI7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlRnBzKCk6IHZvaWQge1xuICAgIHRoaXMuZnBzTGFiZWwudGV4dENvbnRlbnQgPSB0aGlzLmdldEZQUygpLnRvU3RyaW5nKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiZ2VvbWV0cnkvdmVjdG9yMlwiO1xyXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tIFwic3RhdGVNYW5hZ2VtZW50L2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBDYW52YXMgfSBmcm9tIFwiLi9jYW52YXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbnB1dEhhbmRsZXIge1xyXG4gIHByaXZhdGUgY2FudmFzOiBDYW52YXM7XHJcbiAgcHJpdmF0ZSBjcmVhdGVCb2lkOiAocG9zaXRpb246IFZlY3RvcjIpID0+IHZvaWQ7XHJcbiAgcHJpdmF0ZSBjcmVhdGVIdW50ZXI6IChwb3NpdGlvbjogVmVjdG9yMikgPT4gdm9pZDtcclxuICBwcml2YXRlIHNlcGFyYXRpb25MYWJlbDogSFRNTEVsZW1lbnQ7XHJcbiAgcHJpdmF0ZSBhbGlnbm1lbnRMYWJlbDogSFRNTEVsZW1lbnQ7XHJcbiAgcHJpdmF0ZSBjb2hlc2lvbkxhYmVsOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBjYW52YXM6IENhbnZhcyxcclxuICAgIGNyZWF0ZUJvaWQ6IChwb3NpdGlvbjogVmVjdG9yMikgPT4gdm9pZCxcclxuICAgIGNyZWF0ZUh1bnRlcjogKHBvc2l0aW9uOiBWZWN0b3IyKSA9PiB2b2lkLFxyXG4gICkge1xyXG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICB0aGlzLmNyZWF0ZUJvaWQgPSBjcmVhdGVCb2lkO1xyXG4gICAgdGhpcy5jcmVhdGVIdW50ZXIgPSBjcmVhdGVIdW50ZXI7XHJcbiAgICB0aGlzLnNlcGFyYXRpb25MYWJlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VwYXJhdGlvbi1zdGF0dXNcIikhO1xyXG4gICAgdGhpcy5hbGlnbm1lbnRMYWJlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWxpZ25tZW50LXN0YXR1c1wiKSE7XHJcbiAgICB0aGlzLmNvaGVzaW9uTGFiZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvaGVzaW9uLXN0YXR1c1wiKSE7XHJcbiAgICB0aGlzLmNhbnZhcy5vbmNsaWNrKChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICB0aGlzLmhhbmRsZU1vdXNlQ2xpY2soZXZlbnQpO1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgICB0aGlzLmhhbmRsZUtleVVwKGV2ZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGhhbmRsZU1vdXNlQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIGNvbnN0IG1vdXNlUG9zaXRpb24gPSB0aGlzLmNhbnZhcy5nZXRQb3NpdGlvbkluV29ybGRTcGFjZShcclxuICAgICAgbmV3IFZlY3RvcjIoXHJcbiAgICAgICAgZXZlbnQuY2xpZW50WCxcclxuICAgICAgICBldmVudC5jbGllbnRZLFxyXG4gICAgICApLFxyXG4gICAgKTtcclxuICAgIGlmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpIHtcclxuICAgICAgdGhpcy5jcmVhdGVIdW50ZXIobW91c2VQb3NpdGlvbik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNyZWF0ZUJvaWQobW91c2VQb3NpdGlvbik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaGFuZGxlS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcclxuICAgIGNvbnN0IG9uZUtleUNvZGUgPSA0OTtcclxuICAgIGNvbnN0IHR3b0tleUNvZGUgPSA1MDtcclxuICAgIGNvbnN0IHRocmVlS2V5Q29kZSA9IDUxO1xyXG4gICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XHJcbiAgICAgIGNhc2Ugb25lS2V5Q29kZTogdGhpcy50b2dnbGVTZXBhcmF0aW9uKCk7IGJyZWFrO1xyXG4gICAgICBjYXNlIHR3b0tleUNvZGU6IHRoaXMudG9nZ2xlQWxpZ25tZW50KCk7IGJyZWFrO1xyXG4gICAgICBjYXNlIHRocmVlS2V5Q29kZTogdGhpcy50b2dnbGVDb2hlc2lvbigpOyBicmVhaztcclxuICAgICAgZGVmYXVsdDogcmV0dXJuO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHRvZ2dsZVNlcGFyYXRpb24oKTogdm9pZCB7XHJcbiAgICBpZiAoY29uZmlnLmJvaWQucmVwdWxzaW9uUmFkaXVzKSB7XHJcbiAgICAgIGNvbmZpZy5ib2lkLnJlcHVsc2lvblJhZGl1cyA9IDA7XHJcbiAgICAgIHRoaXMuc2VwYXJhdGlvbkxhYmVsLnRleHRDb250ZW50ID0gXCJPRkZcIjtcclxuICAgICAgdGhpcy5zZXBhcmF0aW9uTGFiZWwuc3R5bGUuY29sb3IgPSBcInJlZFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uZmlnLmJvaWQucmVwdWxzaW9uUmFkaXVzID0gY29uZmlnLmJvaWQucmVwdWxzaW9uUmFkaXVzRGVmYXVsdDtcclxuICAgICAgdGhpcy5zZXBhcmF0aW9uTGFiZWwudGV4dENvbnRlbnQgPSBcIk9OXCI7XHJcbiAgICAgIHRoaXMuc2VwYXJhdGlvbkxhYmVsLnN0eWxlLmNvbG9yID0gXCJncmVlblwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHRvZ2dsZUFsaWdubWVudCgpOiB2b2lkIHtcclxuICAgIGlmIChjb25maWcuYm9pZC5hbGlnbm1lbnRSYWRpdXMpIHtcclxuICAgICAgY29uZmlnLmJvaWQuYWxpZ25tZW50UmFkaXVzID0gMDtcclxuICAgICAgdGhpcy5hbGlnbm1lbnRMYWJlbC50ZXh0Q29udGVudCA9IFwiT0ZGXCI7XHJcbiAgICAgIHRoaXMuYWxpZ25tZW50TGFiZWwuc3R5bGUuY29sb3IgPSBcInJlZFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uZmlnLmJvaWQuYWxpZ25tZW50UmFkaXVzID0gY29uZmlnLmJvaWQuYWxpZ25tZW50UmFkaXVzRGVmYXVsdDtcclxuICAgICAgdGhpcy5hbGlnbm1lbnRMYWJlbC50ZXh0Q29udGVudCA9IFwiT05cIjtcclxuICAgICAgdGhpcy5hbGlnbm1lbnRMYWJlbC5zdHlsZS5jb2xvciA9IFwiZ3JlZW5cIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyB0b2dnbGVDb2hlc2lvbigpOiB2b2lkIHtcclxuICAgIGlmIChjb25maWcuYm9pZC5hdHRyYWN0aW9uUmFkaXVzKSB7XHJcbiAgICAgIGNvbmZpZy5ib2lkLmF0dHJhY3Rpb25SYWRpdXMgPSAwO1xyXG4gICAgICB0aGlzLmNvaGVzaW9uTGFiZWwudGV4dENvbnRlbnQgPSBcIk9GRlwiO1xyXG4gICAgICB0aGlzLmNvaGVzaW9uTGFiZWwuc3R5bGUuY29sb3IgPSBcInJlZFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uZmlnLmJvaWQuYXR0cmFjdGlvblJhZGl1cyA9IGNvbmZpZy5ib2lkLmF0dHJhY3Rpb25SYWRpdXNEZWZhdWx0O1xyXG4gICAgICB0aGlzLmNvaGVzaW9uTGFiZWwudGV4dENvbnRlbnQgPSBcIk9OXCI7XHJcbiAgICAgIHRoaXMuY29oZXNpb25MYWJlbC5zdHlsZS5jb2xvciA9IFwiZ3JlZW5cIjtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ3JlYXR1cmUgfSBmcm9tIFwiY3JlYXR1cmVzL2NyZWF0dXJlXCI7XHJcbmltcG9ydCB7IEh1bnRlciB9IGZyb20gXCJjcmVhdHVyZXMvaHVudGVyXCI7XHJcbmltcG9ydCB7IEJvaWQgfSBmcm9tIFwiY3JlYXR1cmVzL2JvaWRcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCJnZW9tZXRyeS92ZWN0b3IyXCI7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gXCIuL2NvbmZpZ1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWF0dXJlU3RvcmFnZSB7XHJcbiAgcHJpdmF0ZSBuZXh0SWQgPSAwO1xyXG4gIHByaXZhdGUgY3JlYXR1cmVzID0gbmV3IE1hcDxudW1iZXIsIENyZWF0dXJlPigpO1xyXG4gIHByaXZhdGUgYnVja2V0TWFwOiBDcmVhdHVyZVtdW11bXSA9IFtdO1xyXG4gIHByaXZhdGUgYnVja2V0Q29sdW1ucyA9IDE7XHJcbiAgcHJpdmF0ZSBidWNrZXRSb3dzID0gMTtcclxuICBwcml2YXRlIHJlYWRvbmx5IGJ1Y2tldFNpemUgPSAxMDA7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy51cGRhdGUoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICB0aGlzLnJlc2V0QnVja2V0TWFwKCk7XHJcbiAgICB0aGlzLmNyZWF0dXJlcy5mb3JFYWNoKChjcmVhdHVyZSkgPT4ge1xyXG4gICAgICBjb25zdCBidWNrZXRYID0gTWF0aC5taW4oXHJcbiAgICAgICAgTWF0aC5mbG9vcihjcmVhdHVyZS5wb3NpdGlvbi54IC8gdGhpcy5idWNrZXRTaXplKSxcclxuICAgICAgICB0aGlzLmJ1Y2tldENvbHVtbnMgLSAxLFxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBidWNrZXRZID0gTWF0aC5taW4oXHJcbiAgICAgICAgTWF0aC5mbG9vcihjcmVhdHVyZS5wb3NpdGlvbi55IC8gdGhpcy5idWNrZXRTaXplKSxcclxuICAgICAgICB0aGlzLmJ1Y2tldFJvd3MgLSAxLFxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLmJ1Y2tldE1hcFtidWNrZXRYXVtidWNrZXRZXS5wdXNoKGNyZWF0dXJlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFkZEh1bnRlcihwb3NpdGlvbj86IFZlY3RvcjIpOiBIdW50ZXIge1xyXG4gICAgY29uc3QgbmV3SHVudGVyID0gbmV3IEh1bnRlcihcclxuICAgICAgdGhpcy5uZXh0SWQsXHJcbiAgICAgIHRoaXMsXHJcbiAgICAgIHBvc2l0aW9uLFxyXG4gICAgKTtcclxuICAgIHRoaXMuY3JlYXR1cmVzLnNldCh0aGlzLm5leHRJZCwgbmV3SHVudGVyKTtcclxuICAgIHRoaXMubmV4dElkKys7XHJcbiAgICByZXR1cm4gbmV3SHVudGVyO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFkZEJvaWQocG9zaXRpb24/OiBWZWN0b3IyKTogQm9pZCB7XHJcbiAgICBjb25zdCBuZXdCb2lkID0gbmV3IEJvaWQoXHJcbiAgICAgIHRoaXMubmV4dElkLFxyXG4gICAgICB0aGlzLFxyXG4gICAgICBwb3NpdGlvbixcclxuICAgICk7XHJcbiAgICB0aGlzLmNyZWF0dXJlcy5zZXQodGhpcy5uZXh0SWQsIG5ld0JvaWQpO1xyXG4gICAgdGhpcy5uZXh0SWQrKztcclxuICAgIHJldHVybiBuZXdCb2lkO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldEFsbEh1bnRlcnMoKTogSHVudGVyW10ge1xyXG4gICAgcmV0dXJuIFsuLi50aGlzLmNyZWF0dXJlcy52YWx1ZXMoKV0uZmlsdGVyKChjcmVhdHVyZSkgPT4ge1xyXG4gICAgICByZXR1cm4gY3JlYXR1cmUgaW5zdGFuY2VvZiBIdW50ZXI7XHJcbiAgICB9KSBhcyBIdW50ZXJbXTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRBbGxCb2lkcygpOiBCb2lkW10ge1xyXG4gICAgcmV0dXJuIFsuLi50aGlzLmNyZWF0dXJlcy52YWx1ZXMoKV0uZmlsdGVyKChjcmVhdHVyZSkgPT4ge1xyXG4gICAgICByZXR1cm4gY3JlYXR1cmUgaW5zdGFuY2VvZiBCb2lkO1xyXG4gICAgfSkgYXMgQm9pZFtdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldEFsbENyZWF0dXJlcygpOiBDcmVhdHVyZVtdIHtcclxuICAgIHJldHVybiBbLi4udGhpcy5jcmVhdHVyZXMudmFsdWVzKCldO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldEh1bnRlcnNJbkFyZWEoY2VudGVyOiBWZWN0b3IyLCByYWRpdXM6IG51bWJlcik6IEh1bnRlcltdIHtcclxuICAgIHJldHVybiB0aGlzLmdldENyZWF0dXJlc0luQXJlYShjZW50ZXIsIHJhZGl1cylcclxuICAgICAgLmZpbHRlcigoY3JlYXR1cmUpID0+IHtcclxuICAgICAgICByZXR1cm4gY3JlYXR1cmUgaW5zdGFuY2VvZiBIdW50ZXIgJiZcclxuICAgICAgICBjcmVhdHVyZS5wb3NpdGlvbi5kaXN0YW5jZShjZW50ZXIpIDwgcmFkaXVzO1xyXG4gICAgICB9KSBhcyBIdW50ZXJbXTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRCb2lkc0luQXJlYShjZW50ZXI6IFZlY3RvcjIsIHJhZGl1czogbnVtYmVyKTogQm9pZFtdIHtcclxuICAgIHJldHVybiB0aGlzLmdldENyZWF0dXJlc0luQXJlYShjZW50ZXIsIHJhZGl1cylcclxuICAgICAgLmZpbHRlcigoY3JlYXR1cmUpID0+IHtcclxuICAgICAgICByZXR1cm4gY3JlYXR1cmUgaW5zdGFuY2VvZiBCb2lkICYmXHJcbiAgICAgICAgY3JlYXR1cmUucG9zaXRpb24uZGlzdGFuY2UoY2VudGVyKSA8IHJhZGl1cztcclxuICAgICAgfSkgYXMgQm9pZFtdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENyZWF0dXJlc0luQXJlYShjZW50ZXI6IFZlY3RvcjIsIHJhZGl1czogbnVtYmVyKTogQ3JlYXR1cmVbXSB7XHJcbiAgICBjb25zdCBidWNrZXRYID0gTWF0aC5mbG9vcihjZW50ZXIueCAvIHRoaXMuYnVja2V0U2l6ZSk7XHJcbiAgICBjb25zdCBidWNrZXRZID0gTWF0aC5mbG9vcihjZW50ZXIueSAvIHRoaXMuYnVja2V0U2l6ZSk7XHJcbiAgICBjb25zdCBidWNrZXRSYWRpdXMgPSBNYXRoLmNlaWwocmFkaXVzIC8gdGhpcy5idWNrZXRTaXplKTtcclxuICAgIGNvbnN0IG1pblggPSAoYnVja2V0WCAtIGJ1Y2tldFJhZGl1cyArIHRoaXMuYnVja2V0Q29sdW1ucykgJSB0aGlzLmJ1Y2tldENvbHVtbnM7XHJcbiAgICBjb25zdCBtYXhYID0gKGJ1Y2tldFggKyBidWNrZXRSYWRpdXMgKyAxKSAlIHRoaXMuYnVja2V0Q29sdW1ucztcclxuICAgIGNvbnN0IG1pblkgPSAoYnVja2V0WSAtIGJ1Y2tldFJhZGl1cyArIHRoaXMuYnVja2V0Um93cykgJSB0aGlzLmJ1Y2tldFJvd3M7XHJcbiAgICBjb25zdCBtYXhZID0gKGJ1Y2tldFkgKyBidWNrZXRSYWRpdXMgKyAxKSAlIHRoaXMuYnVja2V0Um93cztcclxuICAgIGxldCBjcmVhdHVyZXM6IENyZWF0dXJlW10gPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSBtaW5YOyBpICE9PSBtYXhYOyBpKyssIGkgPSBpICUgdGhpcy5idWNrZXRDb2x1bW5zKSB7XHJcbiAgICAgIGZvciAobGV0IGogPSBtaW5ZOyBqICE9PSBtYXhZOyBqKyssIGogPSBqICUgdGhpcy5idWNrZXRSb3dzKSB7XHJcbiAgICAgICAgY3JlYXR1cmVzID0gY3JlYXR1cmVzLmNvbmNhdCh0aGlzLmJ1Y2tldE1hcFtpXVtqXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjcmVhdHVyZXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0SHVudGVyQ291bnQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmdldEFsbEh1bnRlcnMoKS5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0Qm9pZENvdW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRBbGxCb2lkcygpLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZW1vdmUoY3JlYXR1cmVJZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLmNyZWF0dXJlcy5kZWxldGUoY3JlYXR1cmVJZCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlc2V0QnVja2V0TWFwKCk6IHZvaWQge1xyXG4gICAgdGhpcy5idWNrZXRNYXAgPSBbXTtcclxuICAgIHRoaXMuYnVja2V0Q29sdW1ucyA9IE1hdGguY2VpbChjb25maWcuc2NyZWVuLm1heFggLyB0aGlzLmJ1Y2tldFNpemUpO1xyXG4gICAgdGhpcy5idWNrZXRSb3dzID0gTWF0aC5jZWlsKGNvbmZpZy5zY3JlZW4ubWF4WSAvIHRoaXMuYnVja2V0U2l6ZSk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYnVja2V0Q29sdW1uczsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGJ1Y2tldFJvdzogQ3JlYXR1cmVbXVtdID0gW107XHJcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5idWNrZXRSb3dzOyBqKyspIHtcclxuICAgICAgICBidWNrZXRSb3cucHVzaChbXSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5idWNrZXRNYXAucHVzaChidWNrZXRSb3cpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tIFwic3RhdGVNYW5hZ2VtZW50L2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcImdlb21ldHJ5L3ZlY3RvcjJcIjtcclxuaW1wb3J0IHsgQ3JlYXR1cmUgfSBmcm9tIFwiLi9jcmVhdHVyZVwiO1xyXG5pbXBvcnQgeyBDcmVhdHVyZVN0b3JhZ2UgfSBmcm9tIFwic3RhdGVNYW5hZ2VtZW50L2NyZWF0dXJlU3RvcmFnZVwiO1xyXG5pbXBvcnQgeyBOZXQgfSBmcm9tIFwibmV1cmFsL25ldFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEh1bnRlciBleHRlbmRzIENyZWF0dXJlIHtcclxuICBwdWJsaWMgY29sb3VyID0gY29uZmlnLmh1bnRlci5kZWZhdWx0Q29sb3VyO1xyXG4gIHB1YmxpYyBtYXhTcGVlZCA9IGNvbmZpZy5odW50ZXIubWF4U3BlZWQ7XHJcbiAgcHVibGljIG1pblNwZWVkID0gY29uZmlnLmh1bnRlci5taW5TcGVlZDtcclxuICBwdWJsaWMgc2l6ZSA9IGNvbmZpZy5odW50ZXIuc2l6ZTtcclxuICBwdWJsaWMgaGVhZGluZyA9IDA7XHJcbiAgcHVibGljIHNwZWVkID0gMDtcclxuICBwdWJsaWMgaGlzdG9yeTogVmVjdG9yMltdID0gW107XHJcbiAgcHVibGljIHBvc2l0aW9uOiBWZWN0b3IyO1xyXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IG5ldFNpemVTY2hlbWEgPSBbMSwgMywgMl1cclxuICBwcml2YXRlIG5ldDogTmV0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHB1YmxpYyByZWFkb25seSBpZDogbnVtYmVyID0gMCxcclxuICAgIHB1YmxpYyBjcmVhdHVyZVN0b3JhZ2U6IENyZWF0dXJlU3RvcmFnZSxcclxuICAgIHBvc2l0aW9uPzogVmVjdG9yMixcclxuICApIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb24gfHwgbmV3IFZlY3RvcjIoXHJcbiAgICAgIE1hdGgucmFuZG9tKCkgKiBjb25maWcuc2NyZWVuLm1heFgsXHJcbiAgICAgIE1hdGgucmFuZG9tKCkgKiBjb25maWcuc2NyZWVuLm1heFksXHJcbiAgICApO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb25maWcuY3JlYXR1cmUubWF4SGlzdG9yeTsgaSsrKSB7XHJcbiAgICAgIHRoaXMuaGlzdG9yeS5wdXNoKHRoaXMucG9zaXRpb24pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pbml0aWFsaXplVmVsb2NpdHkoKTtcclxuICAgIHRoaXMubmV0ID0gbmV3IE5ldChIdW50ZXIubmV0U2l6ZVNjaGVtYSlcclxuICB9XHJcblxyXG4gIHB1YmxpYyBpbml0aWFsaXplVmVsb2NpdHkoKTogdm9pZCB7XHJcbiAgICB0aGlzLmhlYWRpbmcgPSBNYXRoLnJhbmRvbSgpICogMiAqIE1hdGguUEk7XHJcbiAgICB0aGlzLnNwZWVkID0gY29uZmlnLmh1bnRlci5taW5TcGVlZDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICB0aGlzLmVhdCgpO1xyXG4gICAgdGhpcy5tb3ZlKCk7XHJcbiAgICB0aGlzLnVwZGF0ZUhpc3RvcnkoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBlYXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmNyZWF0dXJlU3RvcmFnZS5nZXRCb2lkc0luQXJlYShcclxuICAgICAgdGhpcy5wb3NpdGlvbixcclxuICAgICAgY29uZmlnLmh1bnRlci5lYXRSYWRpdXMsXHJcbiAgICApLmZvckVhY2goKHByZXkpID0+IHByZXkuZGllKCkpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG1vdmUoKTogdm9pZCB7XHJcbiAgICB0aGlzLnVwZGF0ZUhpc3RvcnkoKTtcclxuICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uLmFkZCh0aGlzLnZlbG9jaXR5KCkpLm5vcm1hbGl6ZSgpO1xyXG4gICAgY29uc3QgaW5wdXRWZWN0b3IgPSB0aGlzLmdldE5ldXJhbE5ldElucHV0VmVjdG9yKCk7XHJcbiAgICBjb25zdCBvdXRwdXRWZWN0b3IgPSB0aGlzLm5ldC5wcm9jZXNzSW5wdXQoaW5wdXRWZWN0b3IpO1xyXG4gICAgdGhpcy5wYXJzZU91dHB1dFRvQWN0aW9uKG91dHB1dFZlY3Rvcik7XHJcblxyXG4gICAgLy8gVE9ETyAuLi4gdXBkYXRlIG5ldCB0byBsZWFybj9cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0TmV1cmFsTmV0SW5wdXRWZWN0b3IoKTogbnVtYmVyW10ge1xyXG4gICAgLy8gVE9ETyB0aGlzIHdpbGwgZXJyb3IgaWYgdGhlcmUgYXJlIG5vIGJvaWRzXHJcbiAgICBjb25zdCBuZWFyZXN0Qm9pZCA9IHRoaXMuY3JlYXR1cmVTdG9yYWdlLmdldEFsbEJvaWRzKCkuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICByZXR1cm4gYS5kaXN0YW5jZVRvQ3JlYXR1cmUodGhpcykgLSBiLmRpc3RhbmNlVG9DcmVhdHVyZSh0aGlzKVxyXG4gICAgfSlbMF1cclxuXHJcbiAgICBjb25zdCBzaG9ydGVzdFBhdGggPSB0aGlzLnBvc2l0aW9uLnZlY3RvclRvKG5lYXJlc3RCb2lkLnBvc2l0aW9uKVxyXG5cclxuICAgIGNvbnN0IHRhcmdldEhlYWRpbmdSYWRpYW5zID0gdGhpcy52ZWxvY2l0eSgpLmFuZ2xlVG8oc2hvcnRlc3RQYXRoKVxyXG4gICAgY29uc3Qgbm9ybWFsaXNlZFRhcmdldCA9ICh0YXJnZXRIZWFkaW5nUmFkaWFucyAvICgyICogTWF0aC5QSSkpICsgMC41XHJcbiAgICByZXR1cm4gW25vcm1hbGlzZWRUYXJnZXRdXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHBhcnNlT3V0cHV0VG9BY3Rpb24ob3V0cHV0VmVjdG9yOiBudW1iZXJbXSk6IHZvaWQge1xyXG4gICAgY29uc3Qgcm90YXRpb25EZWNpc2lvbiA9IG91dHB1dFZlY3RvclswXVxyXG4gICAgY29uc3QgbWF4aW11bUxlZnQgPSB0aGlzLmhlYWRpbmcgLSBjb25maWcuY3JlYXR1cmUudHVybmluZ01heFxyXG4gICAgY29uc3QgZnVsbFR1cm5pbmdSYW5nZSA9IGNvbmZpZy5jcmVhdHVyZS50dXJuaW5nTWF4ICogMlxyXG4gICAgdGhpcy5oZWFkaW5nID0gbWF4aW11bUxlZnQgKyByb3RhdGlvbkRlY2lzaW9uICogZnVsbFR1cm5pbmdSYW5nZVxyXG5cclxuICAgIGNvbnN0IGFjY2VsZXJhdGlvbkRlY2lzaW9uID0gb3V0cHV0VmVjdG9yWzFdXHJcbiAgICBjb25zdCBtaW5pbXVtU3BlZWQgPSB0aGlzLnNwZWVkIC0gY29uZmlnLmNyZWF0dXJlLmFjY2VsZXJhdGlvblxyXG4gICAgY29uc3QgZnVsbFNwZWVkUmFuZ2UgPSBjb25maWcuY3JlYXR1cmUuYWNjZWxlcmF0aW9uICogMlxyXG4gICAgY29uc3QgdGFyZ2V0U3BlZWQgPSBtaW5pbXVtU3BlZWQgKyBmdWxsU3BlZWRSYW5nZSAqIGFjY2VsZXJhdGlvbkRlY2lzaW9uXHJcbiAgICB0aGlzLnNwZWVkID0gTWF0aC5taW4oTWF0aC5tYXgodGFyZ2V0U3BlZWQsIDApLCBjb25maWcuaHVudGVyLm1heFNwZWVkKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBMYXllciB9IGZyb20gJy4vbGF5ZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIE5ldCB7XHJcbiAgcHVibGljIGxheWVyczogTGF5ZXJbXVxyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGxheWVyU2l6ZXM6IG51bWJlcltdLFxyXG4gICkge1xyXG4gICAgY29uc3QgaW5wdXRMYXllciA9IG5ldyBMYXllcihsYXllclNpemVzWzBdKVxyXG4gICAgdGhpcy5sYXllcnMgPSBbaW5wdXRMYXllcl1cclxuXHJcbiAgICBsZXQgcHJpb3JMYXllciA9IGlucHV0TGF5ZXJcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGF5ZXJTaXplcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBuZXh0TGF5ZXIgPSBuZXcgTGF5ZXIobGF5ZXJTaXplc1tpXSlcclxuICAgICAgbmV4dExheWVyLmNvbm5lY3RQcmlvckxheWVyKHByaW9yTGF5ZXIpXHJcbiAgICAgIHRoaXMubGF5ZXJzLnB1c2gobmV4dExheWVyKVxyXG4gICAgICBwcmlvckxheWVyID0gbmV4dExheWVyXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcHJvY2Vzc0lucHV0KGlucHV0VmVjdG9yOiBudW1iZXJbXSk6IG51bWJlcltdIHtcclxuICAgIHRoaXMuaW5qZWN0SW5wdXRWZWN0b3JUb0lucHV0TGF5ZXIoaW5wdXRWZWN0b3IpXHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMubGF5ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHRoaXMubGF5ZXJzW2ldLnVwZGF0ZVZhbHVlcygpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5sYXllcnNbdGhpcy5sYXllcnMubGVuZ3RoIC0gMV0ub3V0cHV0VmVjdG9yKClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5qZWN0SW5wdXRWZWN0b3JUb0lucHV0TGF5ZXIoaW5wdXRWZWN0b3I6IG51bWJlcltdKTogdm9pZCB7XHJcbiAgICB0aGlzLmxheWVyc1swXS5pbmplY3RJbnB1dFZlY3RvcihpbnB1dFZlY3RvcilcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTmV1cm9uIH0gZnJvbSBcIi4vbmV1cm9uXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBMYXllciB7XHJcbiAgcHVibGljIG5ldXJvbnM6IE5ldXJvbltdXHJcblxyXG4gIGNvbnN0cnVjdG9yKHNpemU6IG51bWJlcikge1xyXG4gICAgdGhpcy5uZXVyb25zID0gW11cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XHJcbiAgICAgIHRoaXMubmV1cm9ucy5wdXNoKG5ldyBOZXVyb24oKSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBjb25uZWN0UHJpb3JMYXllcihwcmlvckxheWVyOiBMYXllcik6IHZvaWQge1xyXG4gICAgdGhpcy5uZXVyb25zLmZvckVhY2gobmV1cm9uID0+IHtcclxuICAgICAgcHJpb3JMYXllci5uZXVyb25zLmZvckVhY2gocHJpb3JOZXVyb24gPT4ge1xyXG4gICAgICAgIE5ldXJvbi5jb25uZWN0UGFpcihwcmlvck5ldXJvbiwgbmV1cm9uKVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHB1YmxpYyBpbmplY3RJbnB1dFZlY3RvcihpbnB1dFZlY3RvcjogbnVtYmVyW10pOiB2b2lkIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRWZWN0b3IubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdGhpcy5uZXVyb25zW2ldLnZhbHVlID0gaW5wdXRWZWN0b3JbaV1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGVWYWx1ZXMoKTogdm9pZCB7XHJcbiAgICB0aGlzLm5ldXJvbnMuZm9yRWFjaChuZXVyb24gPT4gbmV1cm9uLnVwZGF0ZVZhbHVlKCkpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3V0cHV0VmVjdG9yKCk6IG51bWJlcltdIHtcclxuICAgIHJldHVybiB0aGlzLm5ldXJvbnMubWFwKG5ldXJvbiA9PiBuZXVyb24udmFsdWUpXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbm5lY3Rpb24gfSBmcm9tIFwiLi9jb25uZWN0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTmV1cm9uIHtcclxuICBwcml2YXRlIGlucHV0czogQ29ubmVjdGlvbltdO1xyXG4gIHByaXZhdGUgb3V0cHV0czogQ29ubmVjdGlvbltdO1xyXG4gIHB1YmxpYyB2YWx1ZTogbnVtYmVyO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuaW5wdXRzID0gW107XHJcbiAgICB0aGlzLm91dHB1dHMgPSBbXTtcclxuICAgIHRoaXMudmFsdWUgPSAwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb25uZWN0T3V0cHV0KGNvbm5lY3Rpb246IENvbm5lY3Rpb24pOiB2b2lkIHtcclxuICAgIHRoaXMub3V0cHV0cy5wdXNoKGNvbm5lY3Rpb24pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNvbm5lY3RJbnB1dChjb25uZWN0aW9uOiBDb25uZWN0aW9uKTogdm9pZCB7XHJcbiAgICB0aGlzLmlucHV0cy5wdXNoKGNvbm5lY3Rpb24pXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY29ubmVjdFBhaXIocHJpb3I6IE5ldXJvbiwgbmV4dDogTmV1cm9uKTogdm9pZCB7XHJcbiAgICBjb25zdCBjb25uZWN0aW9uID0gbmV3IENvbm5lY3Rpb24ocHJpb3IsIG5leHQpXHJcbiAgICBwcmlvci5jb25uZWN0T3V0cHV0KGNvbm5lY3Rpb24pXHJcbiAgICBuZXh0LmNvbm5lY3RJbnB1dChjb25uZWN0aW9uKVxyXG4gIH1cclxuXHJcbiAgLy8gQWN0aXZhdGlvbiBmdW5jdGlvblxyXG4gIHB1YmxpYyB1cGRhdGVWYWx1ZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuc3RlcDNGdW5jdGlvbigpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0ZXAyRnVuY3Rpb24oKTogdm9pZCB7XHJcbiAgICAvLyBUaGlzIGltcGxlbWVudGF0aW9uIGlzIHRoZSBjbGFzc2ljIHN0ZXAgZnVuY3Rpb25cclxuICAgIGNvbnN0IGlucHV0U3VtID0gdGhpcy5pbnB1dHMucmVkdWNlKFxyXG4gICAgICAocHJldiwgY3VycikgPT4gcHJldiArIGN1cnIuZ2V0Tm9ybWFsaXplZE91dHB1dCgpLFxyXG4gICAgICAwXHJcbiAgICApXHJcblxyXG4gICAgY29uc3QgYXZlcmFnZUlucHV0ID0gaW5wdXRTdW0gLyB0aGlzLmlucHV0cy5sZW5ndGg7XHJcbiAgICB0aGlzLnZhbHVlID0gYXZlcmFnZUlucHV0IDwgMC41ID8gMCA6IDE7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0ZXAzRnVuY3Rpb24oKTogdm9pZCB7XHJcbiAgICAvLyBWYXJpYW50IHN0ZXAgZnVuY3Rpb24gYWxsb3cgMy1zdGF0ZSBvdXRwdXRzXHJcbiAgICBjb25zdCBpbnB1dFN1bSA9IHRoaXMuaW5wdXRzLnJlZHVjZShcclxuICAgICAgKHByZXYsIGN1cnIpID0+IHByZXYgKyBjdXJyLmdldE5vcm1hbGl6ZWRPdXRwdXQoKSxcclxuICAgICAgMFxyXG4gICAgKVxyXG5cclxuICAgIGNvbnN0IGF2ZXJhZ2VJbnB1dCA9IGlucHV0U3VtIC8gdGhpcy5pbnB1dHMubGVuZ3RoO1xyXG4gICAgaWYgKGF2ZXJhZ2VJbnB1dCA8IDEgLyAzKSB7XHJcbiAgICAgIHRoaXMudmFsdWUgPSAwXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChhdmVyYWdlSW5wdXQgPCAyIC8gMykge1xyXG4gICAgICB0aGlzLnZhbHVlID0gMC41XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMudmFsdWUgPSAxXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IE5ldXJvbiB9IGZyb20gXCIuL25ldXJvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb24ge1xyXG4gIHByaXZhdGUgaW5wdXQ6IE5ldXJvbjtcclxuICBwcml2YXRlIG91dHB1dDogTmV1cm9uO1xyXG4gIHByaXZhdGUgd2VpZ2h0OiBudW1iZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlucHV0OiBOZXVyb24sIG91dHB1dDogTmV1cm9uLCB3ZWlnaHQ6IG51bWJlciA9IE1hdGgucmFuZG9tKCkpIHtcclxuICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcclxuICAgIHRoaXMub3V0cHV0ID0gb3V0cHV0O1xyXG4gICAgdGhpcy53ZWlnaHQgPSB3ZWlnaHQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0Tm9ybWFsaXplZE91dHB1dCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIDIgKiB0aGlzLmlucHV0LnZhbHVlICogdGhpcy53ZWlnaHRcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgY29uZmlnIH0gZnJvbSBcInN0YXRlTWFuYWdlbWVudC9jb25maWdcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCJnZW9tZXRyeS92ZWN0b3IyXCI7XHJcbmltcG9ydCB7IEJlaGF2aW91ciB9IGZyb20gXCIuL2JlaGF2aW91clwiO1xyXG5pbXBvcnQgeyBCZWhhdmlvdXJDb250cm9sbGVkQ3JlYXR1cmUgfSBmcm9tIFwiLi9iZWhhdmlvdXJDb250cm9sbGVkQ3JlYXR1cmVcIjtcclxuaW1wb3J0IFdlaWdodGVkVmVjdG9yMiBmcm9tIFwiZ2VvbWV0cnkvd2VpZ2h0ZWRWZWN0b3IyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQm9pZCBleHRlbmRzIEJlaGF2aW91ckNvbnRyb2xsZWRDcmVhdHVyZSB7XHJcbiAgcHVibGljIGRlZmF1bHRDb2xvdXIgPSBjb25maWcuYm9pZC5kZWZhdWx0Q29sb3VyO1xyXG4gIHB1YmxpYyBtYXhTcGVlZCA9IGNvbmZpZy5ib2lkLm1heFNwZWVkO1xyXG4gIHB1YmxpYyBtaW5TcGVlZCA9IGNvbmZpZy5ib2lkLm1pblNwZWVkO1xyXG4gIHB1YmxpYyBzaXplID0gY29uZmlnLmJvaWQuc2l6ZTtcclxuICBwdWJsaWMgZmVhckNvdW50ZG93biA9IDA7XHJcbiAgcHVibGljIGhlYWRpbmcgPSAyICogTWF0aC5QSSAqIE1hdGgucmFuZG9tKCk7XHJcbiAgcHVibGljIHNwZWVkID0gY29uZmlnLmJvaWQubWF4U3BlZWQ7XHJcbiAgcHVibGljIGJlaGF2aW91cnMgPSBbXHJcbiAgICBuZXcgQmVoYXZpb3VyKCgpID0+IHRoaXMuaHVudGVyRXZhc2lvbigpLCAoKSA9PiBcInJlZFwiKSxcclxuICAgIG5ldyBCZWhhdmlvdXIoKCkgPT4gdGhpcy5yZXB1bHNpb24oKSwgKCkgPT4gdGhpcy5mZWFyQ291bnRkb3duID8gXCJyZWRcIiA6IFwib3JhbmdlXCIpLFxyXG4gICAgbmV3IEJlaGF2aW91cigoKSA9PiB0aGlzLmFsaWdubWVudCgpLCAoKSA9PiB0aGlzLmZlYXJDb3VudGRvd24gPyBcInJlZFwiIDogXCJibHVlXCIpLFxyXG4gICAgbmV3IEJlaGF2aW91cigoKSA9PiB0aGlzLmF0dHJhY3Rpb24oKSwgKCkgPT4gdGhpcy5mZWFyQ291bnRkb3duID8gXCJyZWRcIiA6IFwiZ3JlZW5cIiksXHJcbiAgXTtcclxuXHJcbiAgcHVibGljIGluaXRpYWxpemVWZWxvY2l0eSgpOiB2b2lkIHtcclxuICAgIHRoaXMuaGVhZGluZyA9IE1hdGgucmFuZG9tKCkgKiAyICogTWF0aC5QSTtcclxuICAgIHRoaXMuc3BlZWQgPSBjb25maWcuYm9pZC5tYXhTcGVlZDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5mZWFyQ291bnRkb3duKSB7XHJcbiAgICAgIHRoaXMuZmVhckNvdW50ZG93bi0tO1xyXG4gICAgfVxyXG4gICAgdGhpcy5tb3ZlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaHVudGVyRXZhc2lvbigpOiBXZWlnaHRlZFZlY3RvcjIge1xyXG4gICAgY29uc3QgaHVudGVyc0luU2lnaHQgPSB0aGlzLmNyZWF0dXJlU3RvcmFnZS5nZXRIdW50ZXJzSW5BcmVhKFxyXG4gICAgICB0aGlzLnBvc2l0aW9uLFxyXG4gICAgICBjb25maWcuYm9pZC52aXNpb25SYWRpdXMsXHJcbiAgICApO1xyXG4gICAgaWYgKGh1bnRlcnNJblNpZ2h0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gbmV3IFdlaWdodGVkVmVjdG9yMigpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZmVhckNvdW50ZG93biA9IGNvbmZpZy5ib2lkLmZlYXJEdXJhdGlvbjtcclxuXHJcbiAgICBjb25zdCBuZWFyZXN0SHVudGVyID0gdGhpcy5uZWFyZXN0Q3JlYXR1cmVUb1Bvc2l0aW9uKFxyXG4gICAgICBodW50ZXJzSW5TaWdodCxcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgdmVjdG9yVG9NZSA9IG5lYXJlc3RIdW50ZXIucG9zaXRpb24udmVjdG9yVG8odGhpcy5wb3NpdGlvbik7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBXZWlnaHRlZFZlY3RvcjIoXHJcbiAgICAgIHZlY3RvclRvTWVcclxuICAgICAgICAuc2NhbGVUb0xlbmd0aCh0aGlzLm1heFNwZWVkKSxcclxuICAgICAgMTAwLFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZXB1bHNpb24oKTogV2VpZ2h0ZWRWZWN0b3IyIHtcclxuICAgIGNvbnN0IG5laWdoYm91cnMgPSB0aGlzLmNyZWF0dXJlU3RvcmFnZS5nZXRCb2lkc0luQXJlYShcclxuICAgICAgdGhpcy5wb3NpdGlvbixcclxuICAgICAgY29uZmlnLmJvaWQucmVwdWxzaW9uUmFkaXVzLFxyXG4gICAgKS5maWx0ZXIoKGJvaWQpID0+IGJvaWQgIT09IHRoaXMpO1xyXG4gICAgaWYgKG5laWdoYm91cnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBuZXcgV2VpZ2h0ZWRWZWN0b3IyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVwdWxzaW9uVmVjdG9ycyA9IG5laWdoYm91cnNcclxuICAgIC5tYXAoKGNyZWF0dXJlKSA9PlxyXG4gICAgICBjcmVhdHVyZS5wb3NpdGlvbi52ZWN0b3JUbyh0aGlzLnBvc2l0aW9uKSxcclxuICAgICkubWFwKCh2ZWN0b3IpID0+IG5ldyBXZWlnaHRlZFZlY3RvcjIoXHJcbiAgICAgIHZlY3RvcixcclxuICAgICAgdGhpcy5yZXB1bHNpb25XZWlnaHRGcm9tKHZlY3RvciksXHJcbiAgICApKTtcclxuICAgIGNvbnN0IHRvdGFsV2VpZ2h0ID0gcmVwdWxzaW9uVmVjdG9ycy5yZWR1Y2UoKHBhcnRpYWxXZWlnaHQsIGN1cnJlbnQpID0+IHtcclxuICAgICAgcmV0dXJuIHBhcnRpYWxXZWlnaHQgKyBjdXJyZW50LndlaWdodDtcclxuICAgIH0sIDApO1xyXG5cclxuICAgIHJldHVybiBuZXcgV2VpZ2h0ZWRWZWN0b3IyKFxyXG4gICAgICBXZWlnaHRlZFZlY3RvcjIuYXZlcmFnZShyZXB1bHNpb25WZWN0b3JzKSxcclxuICAgICAgdG90YWxXZWlnaHQsXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJlcHVsc2lvbldlaWdodEZyb20odmVjdG9yOiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGludHJ1c2lvbiA9IGNvbmZpZy5ib2lkLnJlcHVsc2lvblJhZGl1cyAtIHZlY3Rvci5sZW5ndGg7XHJcbiAgICBjb25zdCBub3JtYWxpemVkSW50cnVzaW9uID0gaW50cnVzaW9uIC8gY29uZmlnLmJvaWQucmVwdWxzaW9uUmFkaXVzO1xyXG4gICAgY29uc3Qgc21vb3RoZWRJbnRydXNpb24gPSBNYXRoLnBvdyhub3JtYWxpemVkSW50cnVzaW9uLCAyKTtcclxuICAgIHJldHVybiBzbW9vdGhlZEludHJ1c2lvbiAqIGNvbmZpZy5ib2lkLnJlcHVsc2lvblJhZGl1cztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhbGlnbm1lbnQoKTogV2VpZ2h0ZWRWZWN0b3IyIHtcclxuICAgIGNvbnN0IG5laWdoYm91cnMgPSB0aGlzLmNyZWF0dXJlU3RvcmFnZS5nZXRCb2lkc0luQXJlYShcclxuICAgICAgdGhpcy5wb3NpdGlvbixcclxuICAgICAgY29uZmlnLmJvaWQuYWxpZ25tZW50UmFkaXVzLFxyXG4gICAgKS5maWx0ZXIoKGJvaWQpID0+IGJvaWQgIT09IHRoaXMpO1xyXG4gICAgaWYgKG5laWdoYm91cnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBuZXcgV2VpZ2h0ZWRWZWN0b3IyKCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBhdmVyYWdlQWxpZ25tZW50VmVjdG9yID0gVmVjdG9yMi5hdmVyYWdlKFxyXG4gICAgICBuZWlnaGJvdXJzLm1hcCgoY3JlYXR1cmUpID0+IHtcclxuICAgICAgICByZXR1cm4gY3JlYXR1cmUudmVsb2NpdHkoKTtcclxuICAgICAgfSksXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIG5ldyBXZWlnaHRlZFZlY3RvcjIoXHJcbiAgICAgIHRoaXMuZmVhckNvdW50ZG93biA/XHJcbiAgICAgICAgYXZlcmFnZUFsaWdubWVudFZlY3Rvci5zY2FsZVRvTGVuZ3RoKHRoaXMubWF4U3BlZWQpIDpcclxuICAgICAgICBhdmVyYWdlQWxpZ25tZW50VmVjdG9yLFxyXG4gICAgICAxNSxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXR0cmFjdGlvbigpOiBXZWlnaHRlZFZlY3RvcjIge1xyXG4gICAgY29uc3QgbmVpZ2hib3VycyA9IHRoaXMuY3JlYXR1cmVTdG9yYWdlLmdldEJvaWRzSW5BcmVhKFxyXG4gICAgICB0aGlzLnBvc2l0aW9uLFxyXG4gICAgICBjb25maWcuYm9pZC5hdHRyYWN0aW9uUmFkaXVzLFxyXG4gICAgKS5maWx0ZXIoKGJvaWQpID0+IGJvaWQgIT09IHRoaXMpO1xyXG4gICAgaWYgKG5laWdoYm91cnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBuZXcgV2VpZ2h0ZWRWZWN0b3IyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmVhcmVzdE5laWdoYm91ciA9IHRoaXMubmVhcmVzdENyZWF0dXJlVG9Qb3NpdGlvbihcclxuICAgICAgbmVpZ2hib3VycyxcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBXZWlnaHRlZFZlY3RvcjIoXHJcbiAgICAgIHRoaXMucG9zaXRpb25cclxuICAgICAgICAudmVjdG9yVG8obmVhcmVzdE5laWdoYm91ci5wb3NpdGlvbilcclxuICAgICAgICAuc2NhbGVUb0xlbmd0aChcclxuICAgICAgICAgIHRoaXMuZmVhckNvdW50ZG93blxyXG4gICAgICAgICAgPyB0aGlzLm1heFNwZWVkXHJcbiAgICAgICAgICA6IG5lYXJlc3ROZWlnaGJvdXIuc3BlZWQgKiAxLjEpLFxyXG4gICAgICAxMCxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZGllKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jcmVhdHVyZVN0b3JhZ2UucmVtb3ZlKHRoaXMuaWQpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgV2VpZ2h0ZWRWZWN0b3IyIGZyb20gXCJnZW9tZXRyeS93ZWlnaHRlZFZlY3RvcjJcIjtcclxuaW1wb3J0IHsgUHJpb3JpdHkgfSBmcm9tIFwiY3JlYXR1cmVzL3ByaW9yaXR5XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmVoYXZpb3VyIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHB1YmxpYyBnZXRJZGVhbFdlaWdodGVkSGVhZGluZzogKCgpID0+IFdlaWdodGVkVmVjdG9yMiksXHJcbiAgICBwdWJsaWMgZ2V0Q29sb3I6ICgpID0+IHN0cmluZyxcclxuICApIHtcclxuICB9XHJcbiAgcHVibGljIGdldEN1cnJlbnRQcmlvcml0eSgpOiBQcmlvcml0eSB8IG51bGwge1xyXG4gICAgY29uc3Qgd2VpZ2h0ZWRIZWFkaW5nID0gdGhpcy5nZXRJZGVhbFdlaWdodGVkSGVhZGluZygpO1xyXG4gICAgaWYgKHdlaWdodGVkSGVhZGluZy53ZWlnaHQgPiAwKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJpb3JpdHkoXHJcbiAgICAgICAgd2VpZ2h0ZWRIZWFkaW5nLFxyXG4gICAgICAgIHRoaXMuZ2V0Q29sb3IoKSxcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgV2VpZ2h0ZWRWZWN0b3IyIGZyb20gXCJnZW9tZXRyeS93ZWlnaHRlZFZlY3RvcjJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcmlvcml0eSB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwdWJsaWMgd2VpZ2h0ZWRWZWN0b3I6IFdlaWdodGVkVmVjdG9yMixcclxuICAgIHB1YmxpYyBjb2xvcjogc3RyaW5nLFxyXG4gICkge31cclxufVxyXG4iLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tIFwic3RhdGVNYW5hZ2VtZW50L2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcImdlb21ldHJ5L3ZlY3RvcjJcIjtcclxuaW1wb3J0IHsgQmVoYXZpb3VyIH0gZnJvbSBcIi4vYmVoYXZpb3VyXCI7XHJcbmltcG9ydCB7IFByaW9yaXR5IH0gZnJvbSBcIi4vcHJpb3JpdHlcIjtcclxuaW1wb3J0IHsgQ3JlYXR1cmVTdG9yYWdlIH0gZnJvbSBcInN0YXRlTWFuYWdlbWVudC9jcmVhdHVyZVN0b3JhZ2VcIjtcclxuaW1wb3J0IHsgQ3JlYXR1cmUgfSBmcm9tIFwiLi9jcmVhdHVyZVwiO1xyXG5pbXBvcnQgV2VpZ2h0ZWRWZWN0b3IyIGZyb20gXCJnZW9tZXRyeS93ZWlnaHRlZFZlY3RvcjJcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCZWhhdmlvdXJDb250cm9sbGVkQ3JlYXR1cmUgZXh0ZW5kcyBDcmVhdHVyZSB7XHJcbiAgcHVibGljIGFic3RyYWN0IGRlZmF1bHRDb2xvdXI6IHN0cmluZztcclxuICBwdWJsaWMgY29sb3VyID0gXCJibGFja1wiO1xyXG4gIHB1YmxpYyBhYnN0cmFjdCBiZWhhdmlvdXJzOiBCZWhhdmlvdXJbXTtcclxuICBwdWJsaWMgYWJzdHJhY3QgbWF4U3BlZWQ6IG51bWJlcjtcclxuICBwdWJsaWMgYWJzdHJhY3QgbWluU3BlZWQ6IG51bWJlcjtcclxuICBwdWJsaWMgcG9zaXRpb246IFZlY3RvcjI7XHJcbiAgcHVibGljIGhpc3Rvcnk6IFZlY3RvcjJbXSA9IFtdO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHB1YmxpYyByZWFkb25seSBpZDogbnVtYmVyID0gMCxcclxuICAgIHB1YmxpYyBjcmVhdHVyZVN0b3JhZ2U6IENyZWF0dXJlU3RvcmFnZSxcclxuICAgIHBvc2l0aW9uPzogVmVjdG9yMixcclxuICApIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb24gfHwgbmV3IFZlY3RvcjIoXHJcbiAgICAgIE1hdGgucmFuZG9tKCkgKiBjb25maWcuc2NyZWVuLm1heFgsXHJcbiAgICAgIE1hdGgucmFuZG9tKCkgKiBjb25maWcuc2NyZWVuLm1heFksXHJcbiAgICApO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb25maWcuY3JlYXR1cmUubWF4SGlzdG9yeTsgaSsrKSB7XHJcbiAgICAgIHRoaXMuaGlzdG9yeS5wdXNoKHRoaXMucG9zaXRpb24pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pbml0aWFsaXplVmVsb2NpdHkoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhYnN0cmFjdCBpbml0aWFsaXplVmVsb2NpdHkoKTogdm9pZDtcclxuXHJcbiAgcHVibGljIGRpc3RhbmNlVG9DcmVhdHVyZShjcmVhdHVyZTogQ3JlYXR1cmUpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb24uZGlzdGFuY2UoY3JlYXR1cmUucG9zaXRpb24pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFic3RyYWN0IHVwZGF0ZSgpOiB2b2lkO1xyXG5cclxuICBwdWJsaWMgbW92ZSgpOiB2b2lkIHtcclxuICAgIHRoaXMudXBkYXRlSGlzdG9yeSgpO1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMucG9zaXRpb24uYWRkKHRoaXMudmVsb2NpdHkoKSkubm9ybWFsaXplKCk7XHJcbiAgICB0aGlzLnVwZGF0ZUhlYWRpbmcoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGVIZWFkaW5nKCk6IHZvaWQge1xyXG4gICAgY29uc3QgcHJpb3JpdGllcyA9IHRoaXMuZ2V0Q3VycmVudFByaW9yaXRpZXMoKS5zb3J0KChhLCBiKSA9PiBiLndlaWdodGVkVmVjdG9yLndlaWdodCAtIGEud2VpZ2h0ZWRWZWN0b3Iud2VpZ2h0KTtcclxuICAgIGlmIChwcmlvcml0aWVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICB0aGlzLmRlZmF1bHRCZWhhdmlvdXIoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jb2xvdXIgPSBwcmlvcml0aWVzWzBdLmNvbG9yO1xyXG4gICAgdGhpcy51cGRhdGVIZWFkaW5nVG93YXJkcyhXZWlnaHRlZFZlY3RvcjIuYXZlcmFnZShwcmlvcml0aWVzLm1hcCgocHJpb3JpdHkpID0+IHByaW9yaXR5LndlaWdodGVkVmVjdG9yKSkpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldEN1cnJlbnRQcmlvcml0aWVzKCk6IFByaW9yaXR5W10ge1xyXG4gICAgcmV0dXJuIHRoaXMuYmVoYXZpb3Vyc1xyXG4gICAgICAubWFwKChiZWhhdmlvdXIpID0+IGJlaGF2aW91ci5nZXRDdXJyZW50UHJpb3JpdHkoKSlcclxuICAgICAgLmZpbHRlcigocHJpb3JpdHkpID0+XHJcbiAgICAgICAgcHJpb3JpdHkgJiZcclxuICAgICAgICBwcmlvcml0eS53ZWlnaHRlZFZlY3Rvci52ZWN0b3IubGVuZ3RoICYmIHByaW9yaXR5LndlaWdodGVkVmVjdG9yLndlaWdodCxcclxuICAgICkgYXMgUHJpb3JpdHlbXTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkZWZhdWx0QmVoYXZpb3VyKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jb2xvdXIgPSB0aGlzLmRlZmF1bHRDb2xvdXI7XHJcbiAgICB0aGlzLnNwZWVkID0gTWF0aC5tYXgodGhpcy52ZWxvY2l0eS5sZW5ndGggLSBjb25maWcuY3JlYXR1cmUuYWNjZWxlcmF0aW9uLCB0aGlzLm1pblNwZWVkKTtcclxuICAgIGNvbnN0IHJhbmRvbVR1cm4gPSAyICogY29uZmlnLmNyZWF0dXJlLnR1cm5pbmdNYXggKiBNYXRoLnJhbmRvbSgpIC0gY29uZmlnLmNyZWF0dXJlLnR1cm5pbmdNYXg7XHJcbiAgICB0aGlzLmhlYWRpbmcgPSB0aGlzLmhlYWRpbmcgKyByYW5kb21UdXJuO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHVwZGF0ZUhlYWRpbmdUb3dhcmRzKHZlY3RvcjogVmVjdG9yMiB8IG51bGwpOiB2b2lkIHtcclxuICAgIGlmICghdmVjdG9yKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCBsaW1pdGVkU3BlZWQgPSBNYXRoLm1heChNYXRoLm1pbih2ZWN0b3IubGVuZ3RoLCB0aGlzLm1heFNwZWVkKSwgdGhpcy5taW5TcGVlZCk7XHJcbiAgICBsaW1pdGVkU3BlZWQgPSBNYXRoLm1heChcclxuICAgICAgTWF0aC5taW4oXHJcbiAgICAgICAgbGltaXRlZFNwZWVkLFxyXG4gICAgICAgIHRoaXMuc3BlZWQgKyBjb25maWcuY3JlYXR1cmUuYWNjZWxlcmF0aW9uKSxcclxuICAgICAgdGhpcy5zcGVlZCAtIGNvbmZpZy5jcmVhdHVyZS5hY2NlbGVyYXRpb24pO1xyXG4gICAgdGhpcy5zcGVlZCA9IGxpbWl0ZWRTcGVlZDtcclxuXHJcbiAgICBjb25zdCBpZGVhbFR1cm4gPSB0aGlzLnZlbG9jaXR5KCkuYW5nbGVUbyh2ZWN0b3IpO1xyXG4gICAgY29uc3QgbGltaXRlZFR1cm4gPSBNYXRoLm1heChcclxuICAgICAgTWF0aC5taW4oaWRlYWxUdXJuLCBjb25maWcuY3JlYXR1cmUudHVybmluZ01heCksXHJcbiAgICAgIC1jb25maWcuY3JlYXR1cmUudHVybmluZ01heCxcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5oZWFkaW5nID0gdGhpcy5oZWFkaW5nXHJcbiAgICAgICsgbGltaXRlZFR1cm5cclxuICAgICAgKyAyICogY29uZmlnLmNyZWF0dXJlLmhlYWRpbmdGdXp6ICogTWF0aC5yYW5kb20oKSAtIGNvbmZpZy5jcmVhdHVyZS5oZWFkaW5nRnV6ejtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBuZWFyZXN0Q3JlYXR1cmVUb1Bvc2l0aW9uKGNyZWF0dXJlczogQ3JlYXR1cmVbXSk6IENyZWF0dXJlIHtcclxuICAgIGlmIChjcmVhdHVyZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5lYXJlc3QgY3JlYXR1cmUgaXMgdW5kZWZpbmVkIGZvciB6ZXJvIGNyZWF0dXJlc1wiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjcmVhdHVyZXMucmVkdWNlKChwcmV2aW91cywgY3VycmVudCkgPT4ge1xyXG4gICAgICBjb25zdCBjdXJyZW50RGlzdGFuY2UgPSB0aGlzLnBvc2l0aW9uLnZlY3RvclRvKGN1cnJlbnQucG9zaXRpb24pLmxlbmd0aDtcclxuICAgICAgaWYgKHByZXZpb3VzLmRpc3RhbmNlID4gY3VycmVudERpc3RhbmNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGRpc3RhbmNlOiBjdXJyZW50RGlzdGFuY2UsXHJcbiAgICAgICAgICBuZWFyZXN0OiBjdXJyZW50LFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHByZXZpb3VzO1xyXG4gICAgfSwge1xyXG4gICAgICBkaXN0YW5jZTogdGhpcy5wb3NpdGlvbi52ZWN0b3JUbyhjcmVhdHVyZXNbMF0ucG9zaXRpb24pLmxlbmd0aCxcclxuICAgICAgbmVhcmVzdDogY3JlYXR1cmVzWzBdLFxyXG4gICAgfSkubmVhcmVzdDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhYnN0cmFjdCBkaWUoKTogdm9pZDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9